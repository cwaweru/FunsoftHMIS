/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package biz.systempartners.utils;

import java.awt.Color;
import java.sql.SQLException;
import org.jdesktop.swingx.decorator.ColorHighlighter;
import org.openide.util.Exceptions;

/**
 *
 * @author Charles
 */
public class HelpDeskOperationsIntfr extends javax.swing.JInternalFrame {

    /**
     * Creates new form HelpDeskIntfr
     */
    java.sql.Connection connectDB = null;

    public HelpDeskOperationsIntfr(java.sql.Connection connDB) {

        connectDB = connDB;

        initComponents();
        java.util.Vector<org.jdesktop.swingx.decorator.Highlighter> tableHighlighters = new java.util.Vector<org.jdesktop.swingx.decorator.Highlighter>(1, 1);
        //org.jdesktop.swingx.decorator.Highlighter tableHighlighterArray[] ;// = new org.jdesktop.swingx.decorator.Highlighter()[];
        com.afrisoftech.dbadmin.JXTable predicateTable = (com.afrisoftech.dbadmin.JXTable) irFollowUpTable;
        org.jdesktop.swingx.decorator.PatternPredicate patternPredicate = new org.jdesktop.swingx.decorator.PatternPredicate("Emergency", 8, 8);
        ColorHighlighter magenta = new ColorHighlighter(patternPredicate, Color.RED, null, Color.RED, null);
        tableHighlighters.addElement(magenta);
        org.jdesktop.swingx.decorator.PatternPredicate patternPredicate1 = new org.jdesktop.swingx.decorator.PatternPredicate("Urgent", 8, 8);
        ColorHighlighter pink = new ColorHighlighter(patternPredicate1, Color.PINK, null, Color.PINK, null);
        tableHighlighters.add(pink);
        org.jdesktop.swingx.decorator.PatternPredicate patternPredicate2 = new org.jdesktop.swingx.decorator.PatternPredicate("Important", 8, 8);
        ColorHighlighter cyan = new ColorHighlighter(patternPredicate2, Color.CYAN, null, Color.CYAN, null);
        tableHighlighters.add(cyan);
        org.jdesktop.swingx.decorator.PatternPredicate patternPredicate3 = new org.jdesktop.swingx.decorator.PatternPredicate("Routine", 8, 8);
        ColorHighlighter orange = new ColorHighlighter(patternPredicate3, Color.ORANGE, null, Color.ORANGE, null);
        tableHighlighters.add(cyan);
        org.jdesktop.swingx.decorator.PatternPredicate patternPredicate4 = new org.jdesktop.swingx.decorator.PatternPredicate("true", 10, 10);
        ColorHighlighter green = new ColorHighlighter(patternPredicate4, Color.GREEN, null, Color.GREEN, null);
        tableHighlighters.add(green);
        org.jdesktop.swingx.decorator.PatternPredicate patternPredicate5 = new org.jdesktop.swingx.decorator.PatternPredicate("false", 10, 10);
        ColorHighlighter cancelled = new ColorHighlighter(patternPredicate5, Color.YELLOW, null, Color.YELLOW, null);
        tableHighlighters.add(cancelled);
        // Highlighter shading = new ShadingColorHighlighter(new HighlightPredicate.ColumnHighlightPredicate(6));
        ColorHighlighter tableHighlightersArray[] = new ColorHighlighter[]{magenta, cyan, green, pink, orange, cancelled};
        predicateTable.setHighlighterPipeline(predicateTable, tableHighlightersArray);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        levelButtonGroup = new javax.swing.ButtonGroup();
        headerPanel = new javax.swing.JPanel();
        departmentCmbx = new javax.swing.JComboBox();
        sectionCmbx = new javax.swing.JComboBox();
        natureofIRCmbx = new javax.swing.JComboBox();
        actorCmbx = new javax.swing.JComboBox();
        helpDeskTabbedPane = new javax.swing.JTabbedPane();
        followUpPanel = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        irFollowUpTable = new com.afrisoftech.dbadmin.JXTable();
        bodyPanel = new javax.swing.JPanel();
        interventionRequestJscrl = new javax.swing.JScrollPane();
        interventionRequestEditorPane = new javax.swing.JEditorPane();
        emergencyChkbx = new javax.swing.JCheckBox();
        urgentChkbx = new javax.swing.JCheckBox();
        importantChkbx = new javax.swing.JCheckBox();
        routineChkbx = new javax.swing.JCheckBox();
        requestTelephoneTxt = new javax.swing.JTextField();
        requestIDTxt = new javax.swing.JTextField();
        irStatementTxt = new javax.swing.JTextField();
        irSourceTxt = new javax.swing.JTextField();
        actionPanel = new javax.swing.JPanel();
        sendRequestBtn = new javax.swing.JButton();
        clearFormBtn = new javax.swing.JButton();
        closeBtn = new javax.swing.JButton();
        refreshBtn = new javax.swing.JButton();
        searchIRTxt = new javax.swing.JTextField();

        setClosable(true);
        setIconifiable(true);
        setMaximizable(true);
        setResizable(true);
        setTitle("Funsoft HMIS ICT - Help Desk Operations Back Office");
        setAutoscrolls(true);
        setVisible(true);
        getContentPane().setLayout(new java.awt.GridBagLayout());

        headerPanel.setLayout(new java.awt.GridBagLayout());

        departmentCmbx.setModel(com.afrisoftech.lib.ComboBoxModel.ComboBoxModel(connectDB, "SELECT depart_name FROM pb_main_department order by 1"));
        departmentCmbx.setBorder(javax.swing.BorderFactory.createTitledBorder(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.departmentCmbx.border.title"))); // NOI18N
        departmentCmbx.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                departmentCmbxActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        headerPanel.add(departmentCmbx, gridBagConstraints);

        sectionCmbx.setModel(com.afrisoftech.lib.ComboBoxModel.ComboBoxModel(connectDB, "SELECT DISTINCT section FROM master_file ORDER BY 1"));
        sectionCmbx.setBorder(javax.swing.BorderFactory.createTitledBorder(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.sectionCmbx.border.title"))); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        headerPanel.add(sectionCmbx, gridBagConstraints);

        natureofIRCmbx.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Funsoft Issue", "Training requirement", "Network disconnection", "Computer malfunction", "Keyboard malfunction", "Mouse malfuntion", "Computer Viruses", "Monitor malfunction", "Power failure", "Other", " " }));
        natureofIRCmbx.setBorder(javax.swing.BorderFactory.createTitledBorder(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.natureofIRCmbx.border.title"))); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        headerPanel.add(natureofIRCmbx, gridBagConstraints);

        actorCmbx.setModel(com.afrisoftech.lib.ComboBoxModel.ComboBoxModel(connectDB, "SELECT DISTINCT login_name FROM secure_menu_access WHERE department ilike '%ict%' ORDER BY 1"));
        actorCmbx.setBorder(javax.swing.BorderFactory.createTitledBorder(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.actorCmbx.border.title"))); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        headerPanel.add(actorCmbx, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        getContentPane().add(headerPanel, gridBagConstraints);

        followUpPanel.setLayout(new java.awt.GridBagLayout());

        irFollowUpTable.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "SELECT request_id, requisition_department, requisition_section, requisition_nature, requisition_description, ir_source, requesitor_telephone, ir_request_time, ir_level, (SELECT current_actor FROM help_desk_operations WHERE help_desk_operations.request_id = funsoft_help_desk.request_id ORDER BY 1 DESC LIMIT 1) as current_actor, resolved FROM funsoft_help_desk"));
        irFollowUpTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                irFollowUpTableMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(irFollowUpTable);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        followUpPanel.add(jScrollPane1, gridBagConstraints);

        helpDeskTabbedPane.addTab(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.followUpPanel.TabConstraints.tabTitle"), followUpPanel); // NOI18N

        bodyPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(null, org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.bodyPanel.border.title"), javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, null, new java.awt.Color(153, 153, 255))); // NOI18N
        bodyPanel.setLayout(new java.awt.GridBagLayout());

        interventionRequestEditorPane.setBorder(javax.swing.BorderFactory.createTitledBorder(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.interventionRequestEditorPane.border.title"))); // NOI18N
        interventionRequestJscrl.setViewportView(interventionRequestEditorPane);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.gridheight = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 20.0;
        gridBagConstraints.weighty = 1.0;
        bodyPanel.add(interventionRequestJscrl, gridBagConstraints);

        levelButtonGroup.add(emergencyChkbx);
        org.openide.awt.Mnemonics.setLocalizedText(emergencyChkbx, org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.emergencyChkbx.text")); // NOI18N
        emergencyChkbx.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        emergencyChkbx.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        bodyPanel.add(emergencyChkbx, gridBagConstraints);

        levelButtonGroup.add(urgentChkbx);
        org.openide.awt.Mnemonics.setLocalizedText(urgentChkbx, org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.urgentChkbx.text")); // NOI18N
        urgentChkbx.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        urgentChkbx.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        bodyPanel.add(urgentChkbx, gridBagConstraints);

        levelButtonGroup.add(importantChkbx);
        org.openide.awt.Mnemonics.setLocalizedText(importantChkbx, org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.importantChkbx.text")); // NOI18N
        importantChkbx.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        importantChkbx.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        bodyPanel.add(importantChkbx, gridBagConstraints);

        levelButtonGroup.add(routineChkbx);
        routineChkbx.setSelected(true);
        org.openide.awt.Mnemonics.setLocalizedText(routineChkbx, org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.routineChkbx.text")); // NOI18N
        routineChkbx.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        routineChkbx.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        bodyPanel.add(routineChkbx, gridBagConstraints);

        requestTelephoneTxt.setEditable(false);
        requestTelephoneTxt.setText(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.requestTelephoneTxt.text")); // NOI18N
        requestTelephoneTxt.setBorder(javax.swing.BorderFactory.createTitledBorder(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.requestTelephoneTxt.border.title"))); // NOI18N
        requestTelephoneTxt.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                requestTelephoneTxtActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        bodyPanel.add(requestTelephoneTxt, gridBagConstraints);

        requestIDTxt.setEditable(false);
        requestIDTxt.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
        requestIDTxt.setText(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.requestIDTxt.text")); // NOI18N
        requestIDTxt.setBorder(javax.swing.BorderFactory.createTitledBorder(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.requestIDTxt.border.title"))); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        bodyPanel.add(requestIDTxt, gridBagConstraints);

        irStatementTxt.setEditable(false);
        irStatementTxt.setForeground(new java.awt.Color(0, 204, 0));
        irStatementTxt.setText(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.irStatementTxt.text")); // NOI18N
        irStatementTxt.setBorder(javax.swing.BorderFactory.createTitledBorder(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.irStatementTxt.border.title"))); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridheight = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        bodyPanel.add(irStatementTxt, gridBagConstraints);

        irSourceTxt.setEditable(false);
        irSourceTxt.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        irSourceTxt.setText(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.irSourceTxt.text")); // NOI18N
        irSourceTxt.setBorder(javax.swing.BorderFactory.createTitledBorder(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.irSourceTxt.border.title"))); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        bodyPanel.add(irSourceTxt, gridBagConstraints);

        helpDeskTabbedPane.addTab(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.bodyPanel.TabConstraints.tabTitle"), bodyPanel); // NOI18N

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 20.0;
        getContentPane().add(helpDeskTabbedPane, gridBagConstraints);

        actionPanel.setLayout(new java.awt.GridBagLayout());

        org.openide.awt.Mnemonics.setLocalizedText(sendRequestBtn, org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.sendRequestBtn.text")); // NOI18N
        sendRequestBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sendRequestBtnActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        actionPanel.add(sendRequestBtn, gridBagConstraints);

        org.openide.awt.Mnemonics.setLocalizedText(clearFormBtn, org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.clearFormBtn.text")); // NOI18N
        clearFormBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clearFormBtnActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 0;
        actionPanel.add(clearFormBtn, gridBagConstraints);

        org.openide.awt.Mnemonics.setLocalizedText(closeBtn, org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.closeBtn.text")); // NOI18N
        closeBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                closeBtnActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 5;
        gridBagConstraints.gridy = 0;
        actionPanel.add(closeBtn, gridBagConstraints);

        org.openide.awt.Mnemonics.setLocalizedText(refreshBtn, org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.refreshBtn.text")); // NOI18N
        refreshBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshBtnActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        actionPanel.add(refreshBtn, gridBagConstraints);

        searchIRTxt.setText(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.searchIRTxt.text")); // NOI18N
        searchIRTxt.setBorder(javax.swing.BorderFactory.createTitledBorder(org.openide.util.NbBundle.getMessage(HelpDeskOperationsIntfr.class, "HelpDeskOperationsIntfr.searchIRTxt.border.title"))); // NOI18N
        searchIRTxt.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                searchIRTxtCaretUpdate(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 5.0;
        gridBagConstraints.weighty = 1.0;
        actionPanel.add(searchIRTxt, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        getContentPane().add(actionPanel, gridBagConstraints);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void departmentCmbxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_departmentCmbxActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_departmentCmbxActionPerformed

    private void clearFormBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clearFormBtnActionPerformed

        this.getContentPane().removeAll();

        this.initComponents();

        this.invalidate();

        this.validate();

        repaint();

        // TODO add your handling code here:
    }//GEN-LAST:event_clearFormBtnActionPerformed

    private void sendRequestBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sendRequestBtnActionPerformed
        try {
            java.sql.PreparedStatement pstmt = connectDB.prepareStatement("INSERT INTO help_desk_operations("
                    + "            request_id, operation_description, current_actor)"
                    + "    VALUES (?::int, ?, ?)");
            pstmt.setString(1, requestIDTxt.getText());
            pstmt.setString(2, interventionRequestEditorPane.getText());
            pstmt.setString(3, actorCmbx.getSelectedItem().toString());
            pstmt.execute();
            javax.swing.JOptionPane.showMessageDialog(this, "Intervention Requested (ICT-IR) updated successfully");
            // TODO add your handling code here:
        } catch (SQLException ex) {
            ex.printStackTrace();
            javax.swing.JOptionPane.showMessageDialog(this, ex.getMessage());
            Exceptions.printStackTrace(ex);
        }
    }//GEN-LAST:event_sendRequestBtnActionPerformed

    private void closeBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_closeBtnActionPerformed

        this.dispose();
        // TODO add your handling code here:
    }//GEN-LAST:event_closeBtnActionPerformed

    private void refreshBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshBtnActionPerformed
        irFollowUpTable.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "SELECT request_id, requisition_department, requisition_section, requisition_nature, requisition_description, ir_source, requesitor_telephone, ir_request_time, ir_level, (SELECT current_actor FROM help_desk_operations WHERE help_desk_operations.request_id = funsoft_help_desk.request_id ORDER BY 1 DESC LIMIT 1) as current_actor, resolved FROM funsoft_help_desk"));

        // TODO add your handling code here:
    }//GEN-LAST:event_refreshBtnActionPerformed

    private void requestTelephoneTxtActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_requestTelephoneTxtActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_requestTelephoneTxtActionPerformed

    private void searchIRTxtCaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_searchIRTxtCaretUpdate

        if (searchIRTxt.getText().length() > 0) {

            irFollowUpTable.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "SELECT "
                    + "request_id, requisition_department, requisition_section, requisition_nature, "
                    + "requisition_description, ir_source, requesitor_telephone, ir_request_time, ir_level,"
                    + " (SELECT current_actor FROM help_desk_operations WHERE help_desk_operations.request_id"
                    + " = funsoft_help_desk.request_id ORDER BY 1 DESC LIMIT 1) as current_actor, false as resolved "
                    + "FROM funsoft_help_desk WHERE request_id::varchar ilike  '%" + searchIRTxt.getText() + "%'"
                    + " OR ir_source ilike '%" + searchIRTxt.getText() + "%'"));

        }
        // TODO add your handling code here:
    }//GEN-LAST:event_searchIRTxtCaretUpdate

    private void irFollowUpTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_irFollowUpTableMouseClicked
        requestIDTxt.setText(irFollowUpTable.getValueAt(irFollowUpTable.getSelectedRow(), 0).toString());
        departmentCmbx.setSelectedItem(irFollowUpTable.getValueAt(irFollowUpTable.getSelectedRow(), 1));
        sectionCmbx.setSelectedItem(irFollowUpTable.getValueAt(irFollowUpTable.getSelectedRow(), 2));
        natureofIRCmbx.setSelectedItem(irFollowUpTable.getValueAt(irFollowUpTable.getSelectedRow(), 3));
        irStatementTxt.setText(irFollowUpTable.getValueAt(irFollowUpTable.getSelectedRow(), 4).toString());
        requestTelephoneTxt.setText(irFollowUpTable.getValueAt(irFollowUpTable.getSelectedRow(), 6).toString());
        irSourceTxt.setText(irFollowUpTable.getValueAt(irFollowUpTable.getSelectedRow(), 5).toString());
        
        if(irFollowUpTable.getValueAt(irFollowUpTable.getSelectedRow(), 8).toString().contains("Emergency")){
           emergencyChkbx.setSelected(true);
        } else if(irFollowUpTable.getValueAt(irFollowUpTable.getSelectedRow(), 8).toString().contains("Urgent")) {
           urgentChkbx.setSelected(true);
        } else if (irFollowUpTable.getValueAt(irFollowUpTable.getSelectedRow(), 8).toString().contains("Important")){
           importantChkbx.setSelected(true);
        } else {
          routineChkbx.setSelected(true);
        }
        
        helpDeskTabbedPane.setSelectedIndex(1);
        // TODO add your handling code here:
    }//GEN-LAST:event_irFollowUpTableMouseClicked

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel actionPanel;
    private javax.swing.JComboBox actorCmbx;
    private javax.swing.JPanel bodyPanel;
    private javax.swing.JButton clearFormBtn;
    private javax.swing.JButton closeBtn;
    private javax.swing.JComboBox departmentCmbx;
    private javax.swing.JCheckBox emergencyChkbx;
    private javax.swing.JPanel followUpPanel;
    private javax.swing.JPanel headerPanel;
    private javax.swing.JTabbedPane helpDeskTabbedPane;
    private javax.swing.JCheckBox importantChkbx;
    private javax.swing.JEditorPane interventionRequestEditorPane;
    private javax.swing.JScrollPane interventionRequestJscrl;
    private javax.swing.JTable irFollowUpTable;
    private javax.swing.JTextField irSourceTxt;
    private javax.swing.JTextField irStatementTxt;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.ButtonGroup levelButtonGroup;
    private javax.swing.JComboBox natureofIRCmbx;
    private javax.swing.JButton refreshBtn;
    private javax.swing.JTextField requestIDTxt;
    private javax.swing.JTextField requestTelephoneTxt;
    private javax.swing.JCheckBox routineChkbx;
    private javax.swing.JTextField searchIRTxt;
    private javax.swing.JComboBox sectionCmbx;
    private javax.swing.JButton sendRequestBtn;
    private javax.swing.JCheckBox urgentChkbx;
    // End of variables declaration//GEN-END:variables
}
