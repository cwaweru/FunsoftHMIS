/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package com.afrisoftech.maintenance;

/**
 *
 * @author maina
 */
public class ReceivingVehicle extends javax.swing.JInternalFrame {
    private java.sql.Connection connectDB=null;
    private org.netbeans.lib.sql.pool.PooledConnectionSource pConnDB=null;

    /**
     * Creates new form ReceivingVehicle
     */
    public ReceivingVehicle(java.sql.Connection conn,org.netbeans.lib.sql.pool.PooledConnectionSource pConn) {
        
        connectDB=conn;
        pConnDB=pConn;
        
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        vehicleRegSearchDialog = new javax.swing.JDialog();
        jSearchPanel = new javax.swing.JPanel();
        searchjTextField = new javax.swing.JTextField();
        jSearchScrollPane = new javax.swing.JScrollPane();
        jSearchTable = new com.afrisoftech.dbadmin.JTable();
        jButton9 = new javax.swing.JButton();
        motherjPanel = new javax.swing.JPanel();
        receiveRequestjPanel = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        recvOfficerjTextField = new javax.swing.JTextField();
        designjTextField2 = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        remarksjTextArea1 = new javax.swing.JTextArea();
        filler1 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 0), new java.awt.Dimension(32767, 32767));
        jLabel3 = new javax.swing.JLabel();
        buttonjPanel = new javax.swing.JPanel();
        jButton1 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jButton4 = new javax.swing.JButton();
        requestDetailsjPanel = new javax.swing.JPanel();
        jLabel4 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        vehicleRegNojTextField = new javax.swing.JTextField();
        jScrollPane2 = new javax.swing.JScrollPane();
        defectjTextArea = new javax.swing.JTextArea();
        jScrollPane3 = new javax.swing.JScrollPane();
        toolsjTextArea = new javax.swing.JTextArea();
        kmsPanel = new javax.swing.JPanel();
        jLabel5 = new javax.swing.JLabel();
        kmInjTextField = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        kmOutjTextField = new javax.swing.JTextField();
        reqjPanel2 = new javax.swing.JPanel();
        sparejTextField = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        creatorjTextField = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        searchjPanel1 = new javax.swing.JPanel();
        jLabel11 = new javax.swing.JLabel();
        jPanel1 = new javax.swing.JPanel();
        jLabel12 = new javax.swing.JLabel();
        jButton2 = new javax.swing.JButton();
        requestIDjTextField = new javax.swing.JTextField();

        vehicleRegSearchDialog.setModal(true);
        vehicleRegSearchDialog.setUndecorated(true);
        vehicleRegSearchDialog.getContentPane().setLayout(new java.awt.GridBagLayout());

        jSearchPanel.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jSearchPanel.setLayout(new java.awt.GridBagLayout());

        searchjTextField.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                searchjTextFieldCaretUpdate(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 10.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 100);
        jSearchPanel.add(searchjTextField, gridBagConstraints);

        jSearchTable.setShowHorizontalLines(false);
        /*    try {
            searchRowSet.setCommand("select product,selling_price,gl_code FROM st_stock_prices WHERE department = 'Pharmacy' order by product");
            searchRowSet.setConnectionSource(pConnDB);

            searchRowSet.execute();

            // crset2.setExecuteOnLoad(true);
            jSearchTable.setModel(new org.netbeans.lib.sql.models.TableModel(searchRowSet, new org.netbeans.lib.sql.models.TableModel.Column[] {
                new org.netbeans.lib.sql.models.TableModel.Column("product", "Description", false),
                new org.netbeans.lib.sql.models.TableModel.Column("selling_price", "Amount", false),
                new org.netbeans.lib.sql.models.TableModel.Column("gl_code", "Gl_code", false)

            }));
            // jSearchScrollPane.setViewportView(jSearchTable);

        } catch(java.sql.SQLException sqlex){
            javax.swing.JOptionPane.showMessageDialog(this,sqlex.getMessage(),"Error Message!",javax.swing.JOptionPane.ERROR_MESSAGE);

            System.out.println(sqlex.getMessage());
        }
        */
        jSearchTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jSearchTableMouseClicked(evt);
            }
        });
        jSearchScrollPane.setViewportView(jSearchTable);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 20.0;
        jSearchPanel.add(jSearchScrollPane, gridBagConstraints);

        jButton9.setText("Dispose");
        jButton9.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton9ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jSearchPanel.add(jButton9, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        vehicleRegSearchDialog.getContentPane().add(jSearchPanel, gridBagConstraints);

        setClosable(true);
        setIconifiable(true);
        setMaximizable(true);
        setResizable(true);
        setTitle("Receiving Motor Vehicle Repair/Service Requests");
        setPreferredSize(new java.awt.Dimension(700, 500));
        setVisible(true);
        getContentPane().setLayout(new java.awt.GridBagLayout());

        motherjPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        motherjPanel.setLayout(new java.awt.GridBagLayout());

        receiveRequestjPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Motor Vehicle Section", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, null, java.awt.Color.red));
        receiveRequestjPanel.setLayout(new java.awt.GridBagLayout());

        jLabel1.setFont(new java.awt.Font("Cantarell", 1, 15)); // NOI18N
        jLabel1.setText("Receiving Officer");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(15, 12, 15, 0);
        receiveRequestjPanel.add(jLabel1, gridBagConstraints);

        jLabel2.setFont(new java.awt.Font("Cantarell", 1, 15)); // NOI18N
        jLabel2.setText("Designation");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 20, 0);
        receiveRequestjPanel.add(jLabel2, gridBagConstraints);

        recvOfficerjTextField.setColumns(10);
        recvOfficerjTextField.setText("To Be Controlled Elsewhere");
        recvOfficerjTextField.setToolTipText("");
        recvOfficerjTextField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                recvOfficerjTextFieldActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(15, 0, 15, 0);
        receiveRequestjPanel.add(recvOfficerjTextField, gridBagConstraints);

        designjTextField2.setColumns(10);
        designjTextField2.setText("To Be Controlled Elsewhere");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 20, 0);
        receiveRequestjPanel.add(designjTextField2, gridBagConstraints);

        remarksjTextArea1.setColumns(20);
        remarksjTextArea1.setRows(5);
        jScrollPane1.setViewportView(remarksjTextArea1);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 0);
        receiveRequestjPanel.add(jScrollPane1, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        receiveRequestjPanel.add(filler1, gridBagConstraints);

        jLabel3.setFont(new java.awt.Font("Cantarell", 1, 15)); // NOI18N
        jLabel3.setText("Remarks / Comments");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 0);
        receiveRequestjPanel.add(jLabel3, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 2.0;
        gridBagConstraints.weighty = 2.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 12);
        motherjPanel.add(receiveRequestjPanel, gridBagConstraints);

        buttonjPanel.setLayout(new java.awt.GridBagLayout());

        jButton1.setText("Save");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 50);
        buttonjPanel.add(jButton1, gridBagConstraints);

        jButton3.setText("Clear Fields");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 50);
        buttonjPanel.add(jButton3, gridBagConstraints);

        jButton4.setText("Close");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.insets = new java.awt.Insets(0, 50, 0, 12);
        buttonjPanel.add(jButton4, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 12);
        motherjPanel.add(buttonjPanel, gridBagConstraints);

        requestDetailsjPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Service/ Repair Request Details", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, null, java.awt.Color.red));
        requestDetailsjPanel.setLayout(new java.awt.GridBagLayout());

        jLabel4.setFont(new java.awt.Font("Cantarell", 1, 15)); // NOI18N
        jLabel4.setText("Vehicle Registration No.");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(15, 12, 15, 0);
        requestDetailsjPanel.add(jLabel4, gridBagConstraints);

        jLabel7.setFont(new java.awt.Font("Cantarell", 1, 15)); // NOI18N
        jLabel7.setText("Reported Defects/Symptoms");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 0);
        requestDetailsjPanel.add(jLabel7, gridBagConstraints);

        jLabel8.setFont(new java.awt.Font("Cantarell", 1, 15)); // NOI18N
        jLabel8.setText("Tools Inside");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 0);
        requestDetailsjPanel.add(jLabel8, gridBagConstraints);

        vehicleRegNojTextField.setEditable(false);
        vehicleRegNojTextField.setColumns(10);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(15, 0, 15, 0);
        requestDetailsjPanel.add(vehicleRegNojTextField, gridBagConstraints);

        defectjTextArea.setEditable(false);
        defectjTextArea.setColumns(20);
        defectjTextArea.setRows(5);
        jScrollPane2.setViewportView(defectjTextArea);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 0);
        requestDetailsjPanel.add(jScrollPane2, gridBagConstraints);

        toolsjTextArea.setEditable(false);
        toolsjTextArea.setColumns(20);
        toolsjTextArea.setRows(5);
        jScrollPane3.setViewportView(toolsjTextArea);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.gridheight = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 0);
        requestDetailsjPanel.add(jScrollPane3, gridBagConstraints);

        kmsPanel.setLayout(new java.awt.GridBagLayout());

        jLabel5.setFont(new java.awt.Font("Cantarell", 1, 15)); // NOI18N
        jLabel5.setText("k/ms in");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 0);
        kmsPanel.add(jLabel5, gridBagConstraints);

        kmInjTextField.setEditable(false);
        kmInjTextField.setColumns(10);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        kmsPanel.add(kmInjTextField, gridBagConstraints);

        jLabel6.setFont(new java.awt.Font("Cantarell", 1, 15)); // NOI18N
        jLabel6.setText("k/ms out");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 12);
        kmsPanel.add(jLabel6, gridBagConstraints);

        kmOutjTextField.setEditable(false);
        kmOutjTextField.setColumns(10);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        kmsPanel.add(kmOutjTextField, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(15, 0, 15, 0);
        requestDetailsjPanel.add(kmsPanel, gridBagConstraints);

        reqjPanel2.setLayout(new java.awt.GridBagLayout());

        sparejTextField.setEditable(false);
        sparejTextField.setColumns(10);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        reqjPanel2.add(sparejTextField, gridBagConstraints);

        jLabel10.setFont(new java.awt.Font("Cantarell", 1, 15)); // NOI18N
        jLabel10.setText("Request Was Made By");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 12);
        reqjPanel2.add(jLabel10, gridBagConstraints);

        creatorjTextField.setEditable(false);
        creatorjTextField.setColumns(10);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        reqjPanel2.add(creatorjTextField, gridBagConstraints);

        jLabel9.setFont(new java.awt.Font("Cantarell", 1, 15)); // NOI18N
        jLabel9.setText("Spare Wheel");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 12);
        reqjPanel2.add(jLabel9, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.gridwidth = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(15, 0, 0, 0);
        requestDetailsjPanel.add(reqjPanel2, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridheight = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 3.0;
        gridBagConstraints.weighty = 3.0;
        motherjPanel.add(requestDetailsjPanel, gridBagConstraints);

        searchjPanel1.setLayout(new java.awt.GridBagLayout());

        jLabel11.setFont(new java.awt.Font("Cantarell", 0, 15)); // NOI18N
        jLabel11.setForeground(java.awt.Color.red);
        jLabel11.setText("Search By Vehicle Registration No.");
        jLabel11.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 3;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 25, 0);
        searchjPanel1.add(jLabel11, gridBagConstraints);

        jPanel1.setLayout(new java.awt.GridBagLayout());

        jLabel12.setFont(new java.awt.Font("Cantarell", 1, 15)); // NOI18N
        jLabel12.setText("Original Repair/ Request Request No.");
        jLabel12.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 0);
        jPanel1.add(jLabel12, gridBagConstraints);

        jButton2.setText("Search");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 12);
        jPanel1.add(jButton2, gridBagConstraints);

        requestIDjTextField.setEditable(false);
        requestIDjTextField.setColumns(10);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        jPanel1.add(requestIDjTextField, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        searchjPanel1.add(jPanel1, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 0.5;
        gridBagConstraints.weighty = 0.5;
        motherjPanel.add(searchjPanel1, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 12, 0, 12);
        getContentPane().add(motherjPanel, gridBagConstraints);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void searchjTextFieldCaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_searchjTextFieldCaretUpdate
        // Add your handling code here:
        if(searchjTextField.getCaretPosition()>2){
            jSearchTable.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB,"SELECT vehicle_reg_no,create_date FROM maintenance.motor_vehicle_requests "
                    + "WHERE vehicle_reg_no ILIKE '"+searchjTextField.getText()+"%' AND section_received='false' ORDER BY create_date"));
        }
        
    }//GEN-LAST:event_searchjTextFieldCaretUpdate

    private void jSearchTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jSearchTableMouseClicked
        // Add your handling code here:
        int selectedRow=jSearchTable.getSelectedRow();
        
        
        vehicleRegNojTextField.setText(jSearchTable.getValueAt(selectedRow, 0).toString());
        
        java.lang.String kmIn=null;
        
        try{
            java.sql.Statement stt=connectDB.createStatement();
            java.sql.ResultSet rSet=stt.executeQuery("SELECT kms_in, kms_out,defects,tools_inside,spare_wheel,user_name,request_id FROM maintenance.motor_vehicle_requests "
                                                    + "WHERE vehicle_reg_no='"+vehicleRegNojTextField.getText()+"' AND create_date='"+jSearchTable.getValueAt(selectedRow, 1)+"'");
            
            while(rSet.next()){
                kmInjTextField.setText(rSet.getString(1));
                kmOutjTextField.setText(rSet.getString(2));
                defectjTextArea.setText(rSet.getString(3));
                toolsjTextArea.setText(rSet.getString(4));
                sparejTextField.setText(rSet.getString(5));
                creatorjTextField.setText(rSet.getString(6));
                requestIDjTextField.setText(rSet.getString(7));
            }
            
        }catch(java.sql.SQLException sqle){
            sqle.printStackTrace();
        }
        
        
        vehicleRegSearchDialog.dispose();
    }//GEN-LAST:event_jSearchTableMouseClicked

    private void jButton9ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton9ActionPerformed
        // Add your handling code here:
        vehicleRegSearchDialog.dispose();
    }//GEN-LAST:event_jButton9ActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        // TODO add your handling code here:
        
        
        java.awt.Point point = requestIDjTextField.getLocationOnScreen();
        vehicleRegSearchDialog.setSize(600, 200);
        vehicleRegSearchDialog.setLocation(point);
        vehicleRegSearchDialog.setVisible(true);
    }//GEN-LAST:event_jButton2ActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        String job_id="MVJOB_";
        
        try{
            
            connectDB.setAutoCommit(false);
            
            java.sql.Statement stt=connectDB.createStatement();
            java.sql.ResultSet rset=stt.executeQuery("SELECT nextval('maintenance.job_card_no_seq')");
            
            while(rset.next()){
                job_id+=rset.getString(1);
            }
            
            java.sql.PreparedStatement savePrepStt=connectDB.prepareStatement("INSERT INTO maintenance.mvehicle_job_card VALUES (?,?,?,?,?)");
            savePrepStt.setString(1, job_id);
            savePrepStt.setString(2, requestIDjTextField.getText());
            savePrepStt.setString(3, recvOfficerjTextField.getText());
            savePrepStt.setString(4, designjTextField2.getText());
            savePrepStt.setString(5, remarksjTextArea1.getText());
            
            savePrepStt.executeUpdate();
            
            java.sql.PreparedStatement updatePrepStt=connectDB.prepareStatement("UPDATE maintenance.motor_vehicle_requests SET section_received='true' WHERE request_id='"+requestIDjTextField.getText()+"'");
            updatePrepStt.executeUpdate();
            
            connectDB.commit();
            connectDB.setAutoCommit(true);
            
            String jobType=null;
            
            if(requestIDjTextField.getText().startsWith("MVS")){
                jobType="for Service";
            }else if(requestIDjTextField.getText().startsWith("MVR")){
                jobType="for Repair";
            }else{
                jobType="";
            }
            
            javax.swing.JOptionPane.showMessageDialog(this, vehicleRegNojTextField.getText()+" has been received "+jobType,
                    "Insert Successful",
                    javax.swing.JOptionPane.INFORMATION_MESSAGE);
            
            jButton3.doClick();
            
        }catch(java.sql.SQLException sqle){
            sqle.printStackTrace();
            
            try{
                connectDB.rollback();
                connectDB.setAutoCommit(true);
            }catch(java.sql.SQLException sqler){
                sqler.printStackTrace();
            }
            
        }
    }//GEN-LAST:event_jButton1ActionPerformed

    private void recvOfficerjTextFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_recvOfficerjTextFieldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_recvOfficerjTextFieldActionPerformed

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        // TODO add your handling code here:
        requestIDjTextField.setText("");
        vehicleRegNojTextField.setText("");
        kmInjTextField.setText("");
        kmOutjTextField.setText("");
        defectjTextArea.setText("");
        toolsjTextArea.setText("");
        sparejTextField.setText("");
        creatorjTextField.setText("");
        recvOfficerjTextField.setText("");
        designjTextField2.setText("");
        remarksjTextArea1.setText("");
    }//GEN-LAST:event_jButton3ActionPerformed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel buttonjPanel;
    private javax.swing.JTextField creatorjTextField;
    private javax.swing.JTextArea defectjTextArea;
    private javax.swing.JTextField designjTextField2;
    private javax.swing.Box.Filler filler1;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton9;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JPanel jSearchPanel;
    private javax.swing.JScrollPane jSearchScrollPane;
    private javax.swing.JTable jSearchTable;
    private javax.swing.JTextField kmInjTextField;
    private javax.swing.JTextField kmOutjTextField;
    private javax.swing.JPanel kmsPanel;
    private javax.swing.JPanel motherjPanel;
    private javax.swing.JPanel receiveRequestjPanel;
    private javax.swing.JTextField recvOfficerjTextField;
    private javax.swing.JTextArea remarksjTextArea1;
    private javax.swing.JPanel reqjPanel2;
    private javax.swing.JPanel requestDetailsjPanel;
    private javax.swing.JTextField requestIDjTextField;
    private javax.swing.JPanel searchjPanel1;
    private javax.swing.JTextField searchjTextField;
    private javax.swing.JTextField sparejTextField;
    private javax.swing.JTextArea toolsjTextArea;
    private javax.swing.JTextField vehicleRegNojTextField;
    private javax.swing.JDialog vehicleRegSearchDialog;
    // End of variables declaration//GEN-END:variables
}
