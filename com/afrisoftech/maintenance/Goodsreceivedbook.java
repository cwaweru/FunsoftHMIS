/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.afrisoftech.maintenance;
 
import java.sql.*;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JComponent;
import javax.swing.JOptionPane;
import org.netbeans.lib.sql.pool.PooledConnectionSource;

/**
 *
 * @author charlie 
 */
public class Goodsreceivedbook extends Interface_Alpha {

    JComponent[] arrComponents = new JComponent[10];
    public Connection connDb;
    public PooledConnectionSource pconnDB;
    String roba;

    /**
     * Creates new form MachineSetup
     */
    public Goodsreceivedbook(Connection cd, PooledConnectionSource pc) {
        setVisible(true);
        setDBCOnnection(cd, pc);
        initComponents();

        uuid = "Goodsreceivedbook";
        //Load the buildings
        tblReport = loadData(tblReport, this.uuid, "tblReport");
        arrComponents[0] = lblDepartment;
        arrComponents[1] = lblBuilding;
        arrComponents[2] = txaOfficialDescription;
        arrComponents[3] = lblFloor;
        arrComponents[4] = lblMaintenanceOfficial;
        arrComponents[5] = lblRoom;
        arrComponents[6] = lblSubject;
        arrComponents[7] = txtExpectedduration;
        txtExpectedduration.setText("");
        lblDepartment.setText("");
        lblBuilding.setText("");
        txaOfficialDescription.setText("");
        lblFloor.setText("");
        lblMaintenanceOfficial.setText("");
        lblRoom.setText("");
        lblSubject.setText("");


    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        jSearchDialog11 = new javax.swing.JDialog();
        jSearchPanel11 = new javax.swing.JPanel();
        jTextField11111 = new javax.swing.JTextField();
        jSearchScrollPane11 = new javax.swing.JScrollPane();
        jSearchTable11 = new com.afrisoftech.dbadmin.JTable();
        jButton511 = new javax.swing.JButton();
        jPanel1 = new javax.swing.JPanel();
        jPanel7 = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        tblReport = new com.afrisoftech.dbadmin.JTable();
        jScrollPane3 = new javax.swing.JScrollPane();
        tblReport1 = new com.afrisoftech.dbadmin.JTable();
        jPanel11 = new javax.swing.JPanel();
        jLabel16 = new javax.swing.JLabel();
        jLabel164 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        lblDepartment = new javax.swing.JLabel();
        jLabel162 = new javax.swing.JLabel();
        lblFloor = new javax.swing.JLabel();
        lblBuilding = new javax.swing.JLabel();
        lblRoom = new javax.swing.JLabel();
        jLabel19 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        txaOfficialDescription = new javax.swing.JTextArea();
        jLabel15 = new javax.swing.JLabel();
        txtExpectedduration = new javax.swing.JTextField();
        jLabel163 = new javax.swing.JLabel();
        lblSubject = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        lblMaintenanceOfficial = new javax.swing.JLabel();
        jPanel2 = new javax.swing.JPanel();
        jPanel3 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jPanel4 = new javax.swing.JPanel();
        jButton1 = new javax.swing.JButton();
        jButton4 = new javax.swing.JButton();
        jPanel5 = new javax.swing.JPanel();
        jButton2 = new javax.swing.JButton();
        txtAddItems = new javax.swing.JButton();
        jPanel6 = new javax.swing.JPanel();
        jButton5 = new javax.swing.JButton();

        jSearchDialog11.setModal(true);
        jSearchDialog11.setUndecorated(true);
        jSearchDialog11.getContentPane().setLayout(new java.awt.GridBagLayout());

        jSearchPanel11.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jSearchPanel11.setLayout(new java.awt.GridBagLayout());

        jTextField11111.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                jTextField11111CaretUpdate(evt);
            }
        });
        jTextField11111.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField11111ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 300.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 5);
        jSearchPanel11.add(jTextField11111, gridBagConstraints);

        jSearchTable11.setToolTipText("Click on the target row to select the patient from the search.");
        jSearchTable11.setShowHorizontalLines(false);
        /*javax.swing.table.TableColumn column = null;

        for (int i = 0; i < 4; i++) {

            column = jSearchTable.getColumnModel().getColumn(i);

            if (i == 1) {

                column.setPreferredWidth(400);
                //sport column is bigger
            } else {

                column.setPreferredWidth(200);

            }
        }
        */
        jSearchTable11.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jSearchTable11MouseClicked(evt);
            }
        });
        jSearchScrollPane11.setViewportView(jSearchTable11);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 20.0;
        jSearchPanel11.add(jSearchScrollPane11, gridBagConstraints);

        jButton511.setText("Close");
        jButton511.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton511ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jSearchPanel11.add(jButton511, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jSearchDialog11.getContentPane().add(jSearchPanel11, gridBagConstraints);

        setClosable(true);
        setIconifiable(true);
        setMaximizable(true);
        setResizable(true);
        setTitle("S11 Form");
        setMaximumSize(new java.awt.Dimension(1000000, 500000000));
        setMinimumSize(new java.awt.Dimension(797, 609));
        setNormalBounds(new java.awt.Rectangle(0, 0, 0, 0));
        setPreferredSize(new java.awt.Dimension(797, 609));
        getContentPane().setLayout(new java.awt.GridBagLayout());

        jPanel1.setLayout(new java.awt.GridBagLayout());

        jPanel7.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanel7.setLayout(new java.awt.GridBagLayout());

        jScrollPane2.setMinimumSize(new java.awt.Dimension(19, 20));
        jScrollPane2.setPreferredSize(new java.awt.Dimension(19, 20));

        tblReport.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        tblReport.setMaximumSize(new java.awt.Dimension(1000000, 600000));
        tblReport.setMinimumSize(new java.awt.Dimension(300, 200));
        tblReport.setPreferredSize(new java.awt.Dimension(300, 200));
        tblReport.setRowHeight(15);
        tblReport.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblReportMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(tblReport);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel7.add(jScrollPane2, gridBagConstraints);

        jScrollPane3.setMinimumSize(new java.awt.Dimension(19, 20));
        jScrollPane3.setName(""); // NOI18N
        jScrollPane3.setPreferredSize(new java.awt.Dimension(19, 20));

        tblReport1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null}
            },
            new String [] {
                "Item_Code", "Item_Description", "Units/Packs", "Quantity", "Price Per Unit", "Remarks"
            }
        ));
        tblReport1.setMaximumSize(new java.awt.Dimension(10000, 64000));
        tblReport1.setMinimumSize(new java.awt.Dimension(300, 200));
        tblReport1.setName("tblReport1"); // NOI18N
        tblReport1.setPreferredSize(new java.awt.Dimension(300, 200));
        tblReport1.setRowHeight(15);
        tblReport1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblReport1MouseClicked(evt);
            }
        });
        jScrollPane3.setViewportView(tblReport1);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel7.add(jScrollPane3, gridBagConstraints);

        jPanel11.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanel11.setLayout(new java.awt.GridBagLayout());

        jLabel16.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel16.setText("Room:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 0.3;
        gridBagConstraints.insets = new java.awt.Insets(0, 50, 0, 0);
        jPanel11.add(jLabel16, gridBagConstraints);

        jLabel164.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel164.setText("Building:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 50, 0, 0);
        jPanel11.add(jLabel164, gridBagConstraints);

        jLabel11.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel11.setText("Department:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 0.5;
        gridBagConstraints.weighty = 1.0;
        jPanel11.add(jLabel11, gridBagConstraints);

        lblDepartment.setText("Laundry Department ");
        lblDepartment.setName("lblDepartment"); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        jPanel11.add(lblDepartment, gridBagConstraints);

        jLabel162.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel162.setText("Floor:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 0.5;
        gridBagConstraints.weighty = 1.0;
        jPanel11.add(jLabel162, gridBagConstraints);

        lblFloor.setText("Fifth Floor");
        lblFloor.setName("lblFloor"); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        jPanel11.add(lblFloor, gridBagConstraints);

        lblBuilding.setText("North Tower Building");
        lblBuilding.setName("lblBuilding"); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.weightx = 0.9;
        jPanel11.add(lblBuilding, gridBagConstraints);

        lblRoom.setText("123");
        lblRoom.setName("lblRoom"); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.weightx = 0.9;
        jPanel11.add(lblRoom, gridBagConstraints);

        jLabel19.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel19.setText("Official Description:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 50, 0, 0);
        jPanel11.add(jLabel19, gridBagConstraints);

        txaOfficialDescription.setEditable(false);
        txaOfficialDescription.setColumns(20);
        txaOfficialDescription.setRows(5);
        txaOfficialDescription.setMinimumSize(new java.awt.Dimension(164, 94));
        txaOfficialDescription.setName("txaOfficialDescription"); // NOI18N
        jScrollPane1.setViewportView(txaOfficialDescription);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        jPanel11.add(jScrollPane1, gridBagConstraints);

        jLabel15.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel15.setText("Expected Duration: ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weighty = 1.0;
        jPanel11.add(jLabel15, gridBagConstraints);

        txtExpectedduration.setEditable(false);
        txtExpectedduration.setMinimumSize(new java.awt.Dimension(150, 20));
        txtExpectedduration.setName("txtExpectedduration"); // NOI18N
        txtExpectedduration.setPreferredSize(new java.awt.Dimension(150, 20));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        jPanel11.add(txtExpectedduration, gridBagConstraints);

        jLabel163.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel163.setText("Subject:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 0.5;
        gridBagConstraints.weighty = 1.0;
        jPanel11.add(jLabel163, gridBagConstraints);

        lblSubject.setText("Subject");
        lblSubject.setName("lblSubject"); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        jPanel11.add(lblSubject, gridBagConstraints);

        jLabel17.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel17.setText("Official's Name");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 50, 0, 0);
        jPanel11.add(jLabel17, gridBagConstraints);

        lblMaintenanceOfficial.setText("James Plumber");
        lblMaintenanceOfficial.setName("lblMaintenanceOfficial"); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.weightx = 0.9;
        jPanel11.add(lblMaintenanceOfficial, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel7.add(jPanel11, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 20.0;
        gridBagConstraints.weighty = 1.0;
        jPanel1.add(jPanel7, gridBagConstraints);

        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanel2.setLayout(new java.awt.GridBagLayout());

        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanel3.setLayout(new java.awt.GridBagLayout());

        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/all_tracks.gif"))); // NOI18N
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel3.add(jLabel1, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel2.add(jPanel3, gridBagConstraints);

        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder("Actions"));
        jPanel4.setLayout(new java.awt.GridBagLayout());

        jButton1.setMnemonic('w');
        jButton1.setText("Save Details");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel4.add(jButton1, gridBagConstraints);

        jButton4.setMnemonic('C');
        jButton4.setText("Clear");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel4.add(jButton4, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 5.0;
        jPanel4.add(jPanel5, gridBagConstraints);

        jButton2.setMnemonic('w');
        jButton2.setText("Remove Row");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel4.add(jButton2, gridBagConstraints);

        txtAddItems.setMnemonic('w');
        txtAddItems.setText("Add Items");
        txtAddItems.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtAddItemsActionPerformed(evt);
            }
        });
        jPanel4.add(txtAddItems, new java.awt.GridBagConstraints());

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 30.0;
        jPanel2.add(jPanel4, gridBagConstraints);

        jPanel6.setBorder(javax.swing.BorderFactory.createTitledBorder("Assistance"));
        jPanel6.setLayout(new java.awt.GridBagLayout());

        jButton5.setMnemonic('H');
        jButton5.setText("Help");
        jPanel6.add(jButton5, new java.awt.GridBagConstraints());

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel2.add(jPanel6, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel1.add(jPanel2, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.ipadx = 100;
        gridBagConstraints.ipady = 100;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 5.0;
        getContentPane().add(jPanel1, gridBagConstraints);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        try {

            java.sql.Statement stmt = myConn.createStatement();
            java.sql.ResultSet rset = stmt.executeQuery("select 'IRQ_E1' || nextval('req_no_seq');");
            java.lang.String req_no = null;
            while (rset.next()) {

                req_no = rset.getObject(1).toString();

            }
            myConn.setAutoCommit(false);
            java.sql.PreparedStatement pst = myConn.prepareStatement("INSERT INTO st_receive_requisation(item_code, item_description, units, quantity, price, requisition_no,received_requisation,cost_center,store_name,date_due,date,qty_issued,reason,user_name) VALUES (?,?,?,?,?,?,'-',?,'Maintenance Store',current_date,current_date,'0.00','-',current_user);");
            for (int i = 0; i < tblReport1.getRowCount(); i++) {
                if (tblReport1.getValueAt(i, 0) != null) {
                    pst.setObject(1, tblReport1.getValueAt(i, 0));
                    pst.setObject(2, tblReport1.getValueAt(i, 1));
                    pst.setObject(3, tblReport1.getValueAt(i, 2));
                    pst.setDouble(4, Double.valueOf(tblReport1.getValueAt(i, 3).toString()));
                    pst.setDouble(5, Double.valueOf(tblReport1.getValueAt(i, 4).toString()));
                    pst.setObject(6, req_no);
                    pst.setObject(7, lblDepartment.getText());



                    pst.executeUpdate();

                }
            }

            myConn.commit();
            // TODO add your handling code here:
            String selected_id = tblReport.getValueAt(tblReport.getSelectedRow(), 0).toString();
            String[][] dataToSave = new String[3][2];
            dataToSave[0][0] = "-1";// when want to update
            dataToSave[0][1] = selected_id; //Change to the id of the user who is currently logged in.
            dataToSave[1][0] = "lbl_req_no";
            dataToSave[1][1] = req_no;
            setAuxilliaryLevel(1);
            saveApplication(dataToSave);
            setAuxilliaryLevel(0);
            approveApplication(Integer.parseInt(selected_id), getUuidNo(), true);


            JOptionPane.showMessageDialog(null, "This Application With An S11 Form Subject: " + lblSubject.getText().toString() + " has been Sent For Approval under IRQ Number: " + req_no);
            com.afrisoftech.hospinventory.mtrhreports.InternalReqMtrhPdf policy = new com.afrisoftech.hospinventory.mtrhreports.InternalReqMtrhPdf();
            policy.InternalReqMtrhPdf(myConn, lblDepartment.getText(), req_no);
            tblReport = loadData(tblReport, this.uuid, "tblReport");
            txtExpectedduration.setText("");
            lblDepartment.setText("");
            lblBuilding.setText("");
            txaOfficialDescription.setText("");
            lblFloor.setText("");
            lblMaintenanceOfficial.setText("");
            lblRoom.setText("");
            lblSubject.setText("");


            for (int i = 0; i < tblReport1.getRowCount(); i++) {
                for (int b = 0; b < tblReport1.getColumnCount(); b++) {

                    tblReport1.setValueAt(null, i, b);
                }

            }

        } catch (Exception ex) {
            try {
                myConn.rollback();
                JOptionPane.showMessageDialog(this, ex);
                ex.printStackTrace();
                Logger.getLogger(Goodsreceivedbook.class.getName()).log(Level.SEVERE, null, ex);
            } catch (SQLException ex1) {
                Logger.getLogger(Goodsreceivedbook.class.getName()).log(Level.SEVERE, null, ex1);
            }
        }
    }//GEN-LAST:event_jButton1ActionPerformed

    private void tblReport1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblReport1MouseClicked
        // TODO add your handling code here:
        if (tblReport1.getSelectedColumn() == 0) {
            java.awt.Point p = jScrollPane3.getLocationOnScreen();
            jSearchDialog11.setSize(600, 200);
            jSearchDialog11.setLocation(p);
            jSearchDialog11.setVisible(true);




        }
    }//GEN-LAST:event_tblReport1MouseClicked

    private void tblReportMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblReportMouseClicked
       // updateInterface(tblReport, arrComponents);

        /*for (int i = 0; i < tblReport1.getRowCount(); i++) {
            for (int b = 0; b < tblReport1.getColumnCount(); b++) {

                tblReport1.setValueAt(null, i, b);
            }
        }*/


        updateInterface(tblReport, arrComponents);
         int selected_id = Integer.parseInt(tblReport.getValueAt(tblReport.getSelectedRow(), 0).toString());
         System.out.println("SELECTED ID"+ selected_id);
         tblReport1 = loadData(tblReport1, this.uuid, selected_id);

        //tblReport1 = loadData(tblReport1, "Goodsreceivedbookitems", "tblReport1");
        //roba.equals("1");

    }//GEN-LAST:event_tblReportMouseClicked

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        int rows2Delete = tblReport1.getSelectedRowCount();

        int[] selectedRows = tblReport1.getSelectedRows();

        if (rows2Delete < 1) {

            java.awt.Toolkit.getDefaultToolkit().beep();

            javax.swing.JOptionPane.showMessageDialog(this, "There are no selected rows to delete!");

        } else {

            if (rows2Delete > 1) {

                for (int i = 0; i < selectedRows.length; i++) {



                    javax.swing.table.DefaultTableModel defTableModel = (javax.swing.table.DefaultTableModel) tblReport1.getModel();

                    defTableModel.removeRow(selectedRows[i]);

                }



            } else {

                javax.swing.table.DefaultTableModel defTableModel = (javax.swing.table.DefaultTableModel) tblReport1.getModel();

                defTableModel.removeRow(tblReport1.getSelectedRow());
            }
        }        // Add your handling

    }//GEN-LAST:event_jButton2ActionPerformed

    private void jTextField11111CaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_jTextField11111CaretUpdate
        // int j = 0;
        // try {
        //  java.sql.Statement stmt = connectDB.createStatement();
        // java.sql.ResultSet rset = stmt.executeQuery("SELECT count(requisition_no) FROM st_receive_requisation WHERE requisition_no ilike 'PRQ%' and processed = false");

        //   while (rset.next()) {
        //      j = rset.getInt(1);
        //  }
        //  if (j > 0){

        jSearchTable11.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(myConn, "select distinct item_code, description, units, buying_price from \"public\".st_stock_item where department ilike 'Maint%' or item_code ilike '%" + jTextField11111.getText() + "%' or description ilike '%" + jTextField11111.getText() + "%' ;"));
        //   }
            /*   try {
         searchRowSet1.execute("select distinct order_no as scheme,(supplier) as name from st_orders where order_no ILIKE '"+jTextField1111.getText().toString()+"%' ORDER BY order_no");

         jSearchTable1.setModel(new org.netbeans.lib.sql.models.TableModel(searchRowSet1, new org.netbeans.lib.sql.models.TableModel.Column[] {
         new org.netbeans.lib.sql.models.TableModel.Column("scheme", "Order No.", false),
         new org.netbeans.lib.sql.models.TableModel.Column("name", "Supplier", false),
         // new org.netbeans.lib.sql.models.TableModel.Column("account_no", "Acc No.", false)
         }));
         */

        //   } catch(java.sql.SQLException sqlExec) {

        //      javax.swing.JOptionPane.showMessageDialog(this, sqlExec.getMessage());

        //   }
        jSearchTable11.setShowHorizontalLines(false);
        jSearchScrollPane11.setViewportView(jSearchTable11);

        // Add your handling code here:
    }//GEN-LAST:event_jTextField11111CaretUpdate

    private void jTextField11111ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField11111ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField11111ActionPerformed

    private void jSearchTable11MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jSearchTable11MouseClicked
//        jTextField361.setText(jSearchTable11.getValueAt(jSearchTable11.getSelectedRow(), 0).toString());
        //    jTextField361.setText(jSearchTable1.getValueAt(jSearchTable1.getSelectedRow(), 1).toString());
        jSearchDialog11.dispose();
//        for (int k = 0; k < tblReport1.getRowCount(); k++) {
//            for (int r = 0; r < tblReport1.getColumnCount(); r++) {
//                tblReport1.getModel().setValueAt(null, k, r);
        // }
        //}

        int k = jSearchTable11.getSelectedRow();

        // Add your handling code here:
        tblReport1.setValueAt(jSearchTable11.getValueAt(k, 0), tblReport1.getSelectedRow(), 0);
        tblReport1.setValueAt(jSearchTable11.getValueAt(k, 1), tblReport1.getSelectedRow(), 1);
        tblReport1.setValueAt(jSearchTable11.getValueAt(k, 2), tblReport1.getSelectedRow(), 2);
        tblReport1.setValueAt(jSearchTable11.getValueAt(k, 3), tblReport1.getSelectedRow(), 4);




    }//GEN-LAST:event_jSearchTable11MouseClicked

    private void jButton511ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton511ActionPerformed
        jSearchDialog11.dispose();    // Add your handling code here:
    }//GEN-LAST:event_jButton511ActionPerformed

    private void txtAddItemsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtAddItemsActionPerformed
        // TODO add your handling code here:
        String[][] dataToSave = new String[9][2];
        String selected_id = tblReport.getValueAt(tblReport.getSelectedRow(), 0).toString();

        dataToSave[0][0] = "-1";// when want to update
        dataToSave[0][1] = selected_id; //Change to the id of the user who is currently logged in.
        setAuxilliaryLevel(1);
        for (int i = 0; i < tblReport1.getRowCount(); i++) {
            System.out.println("i - " + i);
            if (tblReport1.getValueAt(i, 0) != null) {
                dataToSave[i + 1][0] = "item_code";
                dataToSave[i + 1][1] = tblReport1.getValueAt(i, 0).toString();
                dataToSave[i + 2][0] = "item_description";
                dataToSave[i + 2][1] = tblReport1.getValueAt(i, 1).toString();
                dataToSave[i + 3][0] = "units";
                dataToSave[i + 3][1] = tblReport1.getValueAt(i, 2).toString();
                dataToSave[i + 4][0] = "quantity";
                dataToSave[i + 4][1] = tblReport1.getValueAt(i, 3).toString();
                dataToSave[i + 5][0] = "ppu";
                dataToSave[i + 5][1] = tblReport1.getValueAt(i, 4).toString();
                saveApplication(dataToSave);
            }
            else{
                i = tblReport1.getRowCount();
            }
        }
        
        tblReport1= loadData(tblReport1, uuid,Integer.parseInt(selected_id));
        setAuxilliaryLevel(0);
    }//GEN-LAST:event_txtAddItemsActionPerformed
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton5;
    private javax.swing.JButton jButton511;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel162;
    private javax.swing.JLabel jLabel163;
    private javax.swing.JLabel jLabel164;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JDialog jSearchDialog11;
    private javax.swing.JPanel jSearchPanel11;
    private javax.swing.JScrollPane jSearchScrollPane11;
    private javax.swing.JTable jSearchTable11;
    private javax.swing.JTextField jTextField11111;
    private javax.swing.JLabel lblBuilding;
    private javax.swing.JLabel lblDepartment;
    private javax.swing.JLabel lblFloor;
    private javax.swing.JLabel lblMaintenanceOfficial;
    private javax.swing.JLabel lblRoom;
    private javax.swing.JLabel lblSubject;
    private javax.swing.JTable tblReport;
    private javax.swing.JTable tblReport1;
    private javax.swing.JTextArea txaOfficialDescription;
    private javax.swing.JButton txtAddItems;
    private javax.swing.JTextField txtExpectedduration;
    // End of variables declaration//GEN-END:variables
}
