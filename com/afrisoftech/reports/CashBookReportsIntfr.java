/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package com.afrisoftech.reports;

/**
 *
 * @author Charles Waweru ()
 */
public class CashBookReportsIntfr extends javax.swing.JInternalFrame {

    /**
     * Creates new form CashBookReportsIntfr
     */
    java.sql.Connection connectDB = null;

    public CashBookReportsIntfr(java.sql.Connection connDB) {

        connectDB = connDB;
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        cashbookReportsTabbedPane = new javax.swing.JTabbedPane();
        cashBookPanel = new javax.swing.JPanel();
        cashBookSearchPanel = new javax.swing.JPanel();
        selectCashBookLbl = new javax.swing.JLabel();
        cashbookCmbx = new javax.swing.JComboBox();
        beginDateLbl = new javax.swing.JLabel();
        endDateLbl = new javax.swing.JLabel();
        beginDatePicker = new com.afrisoftech.lib.DatePicker();
        endDatePicker = new com.afrisoftech.lib.DatePicker();
        cashBookReportPanel = new javax.swing.JPanel();
        cashbookReportJscrl = new javax.swing.JScrollPane();
        cashbookReportTbl = new com.afrisoftech.dbadmin.JTable();
        cashBookAnalysisActionPanel = new javax.swing.JPanel();
        totalDebitLbl = new javax.swing.JLabel();
        totalCreditLbl = new javax.swing.JLabel();
        cashbookBalanceLbl = new javax.swing.JLabel();
        refreshBtn = new javax.swing.JButton();
        clearFormBtn = new javax.swing.JButton();
        closeBtn = new javax.swing.JButton();
        shiftReportsPanel = new javax.swing.JPanel();
        shiftReportsSearchPanel = new javax.swing.JPanel();
        selectCashBookLbl1 = new javax.swing.JLabel();
        shiftOperatorCmbx = new javax.swing.JComboBox();
        beginDateLbl1 = new javax.swing.JLabel();
        endDateLbl1 = new javax.swing.JLabel();
        beginDatePicker1 = new com.afrisoftech.lib.DatePicker();
        endDatePicker1 = new com.afrisoftech.lib.DatePicker();
        shiftReportPanel = new javax.swing.JPanel();
        shiftReportsReportJscrl = new javax.swing.JScrollPane();
        shiftDetailsReportTable = new com.afrisoftech.dbadmin.JTable();
        shiftReportsAnalysisActionPanel = new javax.swing.JPanel();
        totalDebitLbl1 = new javax.swing.JLabel();
        totalCreditLbl1 = new javax.swing.JLabel();
        cashbookBalanceLbl1 = new javax.swing.JLabel();
        refreshBtn1 = new javax.swing.JButton();
        clearFormBtn1 = new javax.swing.JButton();
        closeBtn1 = new javax.swing.JButton();
        jPanel1 = new javax.swing.JPanel();
        shiftReportsSearchPanel1 = new javax.swing.JPanel();
        selectCashBookLbl2 = new javax.swing.JLabel();
        shiftOperatorCmbx1 = new javax.swing.JComboBox();
        beginDateLbl2 = new javax.swing.JLabel();
        endDateLbl2 = new javax.swing.JLabel();
        beginDatePicker2 = new com.afrisoftech.lib.DatePicker();
        endDatePicker2 = new com.afrisoftech.lib.DatePicker();
        shiftReportPanel1 = new javax.swing.JPanel();
        shiftReportsReportJscrl1 = new javax.swing.JScrollPane();
        shiftDetailsReportTable1 = new com.afrisoftech.dbadmin.JTable();
        shiftReportsAnalysisActionPanel1 = new javax.swing.JPanel();
        totalDebitLbl2 = new javax.swing.JLabel();
        totalCreditLbl2 = new javax.swing.JLabel();
        cashbookBalanceLbl2 = new javax.swing.JLabel();
        refreshBtn2 = new javax.swing.JButton();
        clearFormBtn2 = new javax.swing.JButton();
        closeBtn2 = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        receiptReportsAnalysisActionPanel = new javax.swing.JPanel();
        totalDebitLbl3 = new javax.swing.JLabel();
        totalCreditLbl3 = new javax.swing.JLabel();
        cashbookBalanceLbl3 = new javax.swing.JLabel();
        refreshBtn3 = new javax.swing.JButton();
        clearFormBtn3 = new javax.swing.JButton();
        closeBtn3 = new javax.swing.JButton();
        receiptReportPanel2 = new javax.swing.JPanel();
        receiptReportsReportJscrl = new javax.swing.JScrollPane();
        receiptDetailsReportTable = new com.afrisoftech.dbadmin.JTable();

        setClosable(true);
        setIconifiable(true);
        setMaximizable(true);
        setResizable(true);
        setTitle("Cash Book Reports");
        setVisible(true);
        getContentPane().setLayout(new java.awt.GridBagLayout());

        cashBookPanel.setLayout(new java.awt.GridBagLayout());

        cashBookSearchPanel.setLayout(new java.awt.GridBagLayout());

        selectCashBookLbl.setText("Select Cash Book");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        cashBookSearchPanel.add(selectCashBookLbl, gridBagConstraints);

        cashbookCmbx.setModel(com.afrisoftech.lib.ComboBoxModel.ComboBoxModel(connectDB, "select bank_account_no || ' - '||upper(bank_account_name) FROM ac_banks_setup ORDER BY 1"));
        cashbookCmbx.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cashbookCmbxActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        cashBookSearchPanel.add(cashbookCmbx, gridBagConstraints);

        beginDateLbl.setText("Begin Date");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        cashBookSearchPanel.add(beginDateLbl, gridBagConstraints);

        endDateLbl.setText("End Date");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        cashBookSearchPanel.add(endDateLbl, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        cashBookSearchPanel.add(beginDatePicker, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 5;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        cashBookSearchPanel.add(endDatePicker, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        cashBookPanel.add(cashBookSearchPanel, gridBagConstraints);

        cashBookReportPanel.setLayout(new java.awt.GridBagLayout());

        cashbookReportTbl.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Date", "Transction Description", "Dealer(Payer/Payee)", "Transaction ID", "Document Number", "Debit", "Credit"
            }
        ));
        cashbookReportJscrl.setViewportView(cashbookReportTbl);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        cashBookReportPanel.add(cashbookReportJscrl, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 200.0;
        cashBookPanel.add(cashBookReportPanel, gridBagConstraints);

        cashBookAnalysisActionPanel.setLayout(new java.awt.GridBagLayout());

        totalDebitLbl.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        totalDebitLbl.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        totalDebitLbl.setText("0.00");
        totalDebitLbl.setBorder(javax.swing.BorderFactory.createTitledBorder("Total Debit"));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 5.0;
        gridBagConstraints.weighty = 1.0;
        cashBookAnalysisActionPanel.add(totalDebitLbl, gridBagConstraints);

        totalCreditLbl.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        totalCreditLbl.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        totalCreditLbl.setText("0.00");
        totalCreditLbl.setBorder(javax.swing.BorderFactory.createTitledBorder("Total Credit"));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 5.0;
        gridBagConstraints.weighty = 1.0;
        cashBookAnalysisActionPanel.add(totalCreditLbl, gridBagConstraints);

        cashbookBalanceLbl.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        cashbookBalanceLbl.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        cashbookBalanceLbl.setText("0.00");
        cashbookBalanceLbl.setBorder(javax.swing.BorderFactory.createTitledBorder("Cash Book Balance (Debit - Credit)"));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 5.0;
        gridBagConstraints.weighty = 1.0;
        cashBookAnalysisActionPanel.add(cashbookBalanceLbl, gridBagConstraints);

        refreshBtn.setText("Refresh cash book data");
        refreshBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshBtnActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        cashBookAnalysisActionPanel.add(refreshBtn, gridBagConstraints);

        clearFormBtn.setText("Clear form");
        clearFormBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clearFormBtnActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        cashBookAnalysisActionPanel.add(clearFormBtn, gridBagConstraints);

        closeBtn.setText("Close form");
        closeBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                closeBtnActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        cashBookAnalysisActionPanel.add(closeBtn, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        cashBookPanel.add(cashBookAnalysisActionPanel, gridBagConstraints);

        cashbookReportsTabbedPane.addTab("Cash Book Reports", cashBookPanel);

        shiftReportsPanel.setLayout(new java.awt.GridBagLayout());

        shiftReportsSearchPanel.setLayout(new java.awt.GridBagLayout());

        selectCashBookLbl1.setText("Shift Operator");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsSearchPanel.add(selectCashBookLbl1, gridBagConstraints);

        shiftOperatorCmbx.setModel(com.afrisoftech.lib.ComboBoxModel.ComboBoxModel(connectDB, "SELECT '-All Shifts-' UNION select DISTINCT user_name FROM ac_shifts ORDER BY 1"));
        shiftOperatorCmbx.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                shiftOperatorCmbxActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsSearchPanel.add(shiftOperatorCmbx, gridBagConstraints);

        beginDateLbl1.setText("Begin Date");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsSearchPanel.add(beginDateLbl1, gridBagConstraints);

        endDateLbl1.setText("End Date");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsSearchPanel.add(endDateLbl1, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsSearchPanel.add(beginDatePicker1, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 5;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsSearchPanel.add(endDatePicker1, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsPanel.add(shiftReportsSearchPanel, gridBagConstraints);

        shiftReportPanel.setLayout(new java.awt.GridBagLayout());

        shiftDetailsReportTable.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "SELECT date_collected, (select user_name from ac_shifts where shift_no::varchar = sf.shift_no), shift_no::int,initcap(user_name),SUM(shift_amount) as debit,SUM(amount) as credit,sum(shift_amount-amount) as balance, (select sum(credit) from ac_cash_collection where shift_no = sf.shift_no and transaction_type ilike 'banking') from ac_shift_collections sf WHERE date_collected BETWEEN '" + beginDatePicker1.getDate() + "' AND '" + endDatePicker1.getDate() + "' GROUP BY 1,2,3,4, sf.shift_no ORDER BY 3 ASC"));
        shiftDetailsReportTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                shiftDetailsReportTableMouseClicked(evt);
            }
        });
        shiftReportsReportJscrl.setViewportView(shiftDetailsReportTable);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportPanel.add(shiftReportsReportJscrl, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 200.0;
        shiftReportsPanel.add(shiftReportPanel, gridBagConstraints);

        shiftReportsAnalysisActionPanel.setLayout(new java.awt.GridBagLayout());

        totalDebitLbl1.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        totalDebitLbl1.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        totalDebitLbl1.setText("0.00");
        totalDebitLbl1.setBorder(javax.swing.BorderFactory.createTitledBorder("Total Debit"));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 5.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsAnalysisActionPanel.add(totalDebitLbl1, gridBagConstraints);

        totalCreditLbl1.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        totalCreditLbl1.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        totalCreditLbl1.setText("0.00");
        totalCreditLbl1.setBorder(javax.swing.BorderFactory.createTitledBorder("Total Credit"));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 5.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsAnalysisActionPanel.add(totalCreditLbl1, gridBagConstraints);

        cashbookBalanceLbl1.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        cashbookBalanceLbl1.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        cashbookBalanceLbl1.setText("0.00");
        cashbookBalanceLbl1.setBorder(javax.swing.BorderFactory.createTitledBorder("Shifts Balance (Debit - Credit)"));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 5.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsAnalysisActionPanel.add(cashbookBalanceLbl1, gridBagConstraints);

        refreshBtn1.setText("Refresh shift reconciliation data");
        refreshBtn1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshBtn1ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsAnalysisActionPanel.add(refreshBtn1, gridBagConstraints);

        clearFormBtn1.setText("Clear form");
        clearFormBtn1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clearFormBtn1ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsAnalysisActionPanel.add(clearFormBtn1, gridBagConstraints);

        closeBtn1.setText("Close form");
        closeBtn1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                closeBtn1ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsAnalysisActionPanel.add(closeBtn1, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsPanel.add(shiftReportsAnalysisActionPanel, gridBagConstraints);

        cashbookReportsTabbedPane.addTab("Shift Reconciliation Reports", shiftReportsPanel);

        jPanel1.setLayout(new java.awt.GridBagLayout());

        shiftReportsSearchPanel1.setLayout(new java.awt.GridBagLayout());

        selectCashBookLbl2.setText("Sfift Number");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsSearchPanel1.add(selectCashBookLbl2, gridBagConstraints);

        shiftOperatorCmbx1.setModel(com.afrisoftech.lib.ComboBoxModel.ComboBoxModel(connectDB, "select DISTINCT shift_no FROM ac_shifts ORDER BY 1"));
        shiftOperatorCmbx1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                shiftOperatorCmbx1ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsSearchPanel1.add(shiftOperatorCmbx1, gridBagConstraints);

        beginDateLbl2.setText("Begin Date1");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsSearchPanel1.add(beginDateLbl2, gridBagConstraints);

        endDateLbl2.setText("End Date");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsSearchPanel1.add(endDateLbl2, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsSearchPanel1.add(beginDatePicker2, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 5;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsSearchPanel1.add(endDatePicker2, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel1.add(shiftReportsSearchPanel1, gridBagConstraints);

        shiftReportPanel1.setLayout(new java.awt.GridBagLayout());

        shiftDetailsReportTable1.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "SELECT date_collected, (select user_name from ac_shifts where shift_no::varchar = sf.shift_no), shift_no::int,initcap(user_name),SUM(shift_amount) as debit,SUM(amount) as credit,sum(shift_amount-amount) as balance, (select sum(credit) from ac_cash_collection where shift_no = sf.shift_no and transaction_type ilike 'banking') from ac_shift_collections sf WHERE date_collected BETWEEN '" + beginDatePicker1.getDate() + "' AND '" + endDatePicker1.getDate() + "' GROUP BY 1,2,3,4, sf.shift_no ORDER BY 3 ASC"));
        shiftDetailsReportTable1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                shiftDetailsReportTable1MouseClicked(evt);
            }
        });
        shiftReportsReportJscrl1.setViewportView(shiftDetailsReportTable1);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportPanel1.add(shiftReportsReportJscrl1, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 200.0;
        jPanel1.add(shiftReportPanel1, gridBagConstraints);

        shiftReportsAnalysisActionPanel1.setLayout(new java.awt.GridBagLayout());

        totalDebitLbl2.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        totalDebitLbl2.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        totalDebitLbl2.setText("0.00");
        totalDebitLbl2.setBorder(javax.swing.BorderFactory.createTitledBorder("Total Debit"));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 5.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsAnalysisActionPanel1.add(totalDebitLbl2, gridBagConstraints);

        totalCreditLbl2.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        totalCreditLbl2.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        totalCreditLbl2.setText("0.00");
        totalCreditLbl2.setBorder(javax.swing.BorderFactory.createTitledBorder("Total Credit"));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 5.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsAnalysisActionPanel1.add(totalCreditLbl2, gridBagConstraints);

        cashbookBalanceLbl2.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        cashbookBalanceLbl2.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        cashbookBalanceLbl2.setText("0.00");
        cashbookBalanceLbl2.setBorder(javax.swing.BorderFactory.createTitledBorder("Shifts Balance (Debit - Credit)"));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 5.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsAnalysisActionPanel1.add(cashbookBalanceLbl2, gridBagConstraints);

        refreshBtn2.setText("Refresh Receipt listing");
        refreshBtn2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshBtn2ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsAnalysisActionPanel1.add(refreshBtn2, gridBagConstraints);

        clearFormBtn2.setText("Clear form");
        clearFormBtn2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clearFormBtn2ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsAnalysisActionPanel1.add(clearFormBtn2, gridBagConstraints);

        closeBtn2.setText("Close form");
        closeBtn2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                closeBtn2ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        shiftReportsAnalysisActionPanel1.add(closeBtn2, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel1.add(shiftReportsAnalysisActionPanel1, gridBagConstraints);

        cashbookReportsTabbedPane.addTab("Shift Transactions/Receipts Listing", jPanel1);

        jPanel2.setLayout(new java.awt.GridBagLayout());

        receiptReportsAnalysisActionPanel.setLayout(new java.awt.GridBagLayout());

        totalDebitLbl3.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        totalDebitLbl3.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        totalDebitLbl3.setText("0.00");
        totalDebitLbl3.setBorder(javax.swing.BorderFactory.createTitledBorder("Total Debit"));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 5.0;
        gridBagConstraints.weighty = 1.0;
        receiptReportsAnalysisActionPanel.add(totalDebitLbl3, gridBagConstraints);

        totalCreditLbl3.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        totalCreditLbl3.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        totalCreditLbl3.setText("0.00");
        totalCreditLbl3.setBorder(javax.swing.BorderFactory.createTitledBorder("Total Credit"));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 5.0;
        gridBagConstraints.weighty = 1.0;
        receiptReportsAnalysisActionPanel.add(totalCreditLbl3, gridBagConstraints);

        cashbookBalanceLbl3.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        cashbookBalanceLbl3.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        cashbookBalanceLbl3.setText("0.00");
        cashbookBalanceLbl3.setBorder(javax.swing.BorderFactory.createTitledBorder("Shifts Balance (Debit - Credit)"));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 5.0;
        gridBagConstraints.weighty = 1.0;
        receiptReportsAnalysisActionPanel.add(cashbookBalanceLbl3, gridBagConstraints);

        refreshBtn3.setText("Refresh receipt details");
        refreshBtn3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshBtn3ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        receiptReportsAnalysisActionPanel.add(refreshBtn3, gridBagConstraints);

        clearFormBtn3.setText("Clear form");
        clearFormBtn3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clearFormBtn3ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        receiptReportsAnalysisActionPanel.add(clearFormBtn3, gridBagConstraints);

        closeBtn3.setText("Close form");
        closeBtn3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                closeBtn3ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        receiptReportsAnalysisActionPanel.add(closeBtn3, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jPanel2.add(receiptReportsAnalysisActionPanel, gridBagConstraints);

        receiptReportPanel2.setLayout(new java.awt.GridBagLayout());

        receiptReportsReportJscrl.setViewportView(receiptDetailsReportTable);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        receiptReportPanel2.add(receiptReportsReportJscrl, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 200.0;
        jPanel2.add(receiptReportPanel2, gridBagConstraints);

        cashbookReportsTabbedPane.addTab("Receipt Details", jPanel2);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        getContentPane().add(cashbookReportsTabbedPane, gridBagConstraints);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void clearFormBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clearFormBtnActionPerformed
        cashbookReportTbl.setModel(new javax.swing.table.DefaultTableModel(
                new Object[][]{},
                new String[]{
            "Date", "Transction Description", "Dealer(Payer/Payee)", "Transaction ID", "Document Number", "Shift_no", "Debit", "Credit"
        }));
        cashbookReportJscrl.setViewportView(cashbookReportTbl);

        // TODO add your handling code here:
    }//GEN-LAST:event_clearFormBtnActionPerformed

    private void closeBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_closeBtnActionPerformed

        this.dispose();

        // TODO add your handling code here:
    }//GEN-LAST:event_closeBtnActionPerformed

    private void cashbookCmbxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cashbookCmbxActionPerformed
        String accountNumber = null;
        String[] result = this.cashbookCmbx.getSelectedItem().toString().split("\\s");
        for (int x = 0; x < result.length; x++) {
            System.out.println("Token " + x + " is [" + result[x] + "]");
        }
        accountNumber = result[0];


        this.cashbookReportTbl.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB,
                "SELECT date, initcap(CASE WHEN dealer in (SELECT DISTINCT payment_mode FROM pb_paymentmodes) "
                + " THEN 'INTERNAL' ELSE dealer END) as dealer, cheque_no, slip_no, shift_no, "
                + "initcap(CASE WHEN transaction_type ilike 'banking' THEN 'deposit' WHEN transaction_type ilike 'payment' THEN  'payment' ELSE transaction_type END) as transaction_type, debit, credit, upper(user_name) from ac_cash_book"
                + " WHERE account_no ilike '" + accountNumber
                + "' AND date BETWEEN '" + beginDatePicker.getDate() + "'"
                + " AND '" + endDatePicker.getDate() + "' order by 1"));
        totalDebitLbl.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(cashbookReportTbl, 6)));
        totalCreditLbl.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(cashbookReportTbl, 7)));
        cashbookBalanceLbl.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(cashbookReportTbl, 6)
                - com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(cashbookReportTbl, 7)));
        // TODO add your handling code here:
    }//GEN-LAST:event_cashbookCmbxActionPerformed

    private void refreshBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshBtnActionPerformed
        String accountNumber = null;
        String[] result = this.cashbookCmbx.getSelectedItem().toString().split("\\s");
        for (int x = 0; x < result.length; x++) {
            System.out.println("Token " + x + " is [" + result[x] + "]");
        }
        accountNumber = result[0];


        this.cashbookReportTbl.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB,
                "SELECT date, initcap(CASE WHEN dealer in (SELECT DISTINCT payment_mode FROM pb_paymentmodes) "
                + " THEN 'INTERNAL' ELSE dealer END) as dealer, cheque_no, slip_no, shift_no "
                + "initcap(CASE WHEN transaction_type ilike 'banking' THEN 'deposit' WHEN transaction_type ilike 'payment' THEN  'payment' ELSE transaction_type END) as transaction_type, debit, credit, upper(user_name) from ac_cash_book"
                + " WHERE account_no ilike '" + accountNumber
                + "' AND date BETWEEN '" + beginDatePicker.getDate() + "'"
                + " AND '" + endDatePicker.getDate() + "' order by 1"));
        totalDebitLbl.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(cashbookReportTbl, 6)));
        totalCreditLbl.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(cashbookReportTbl, 7)));
        cashbookBalanceLbl.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(cashbookReportTbl, 6)
                - com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(cashbookReportTbl, 7)));
        // TODO add your handling code here:
    }//GEN-LAST:event_refreshBtnActionPerformed

    private void shiftOperatorCmbxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_shiftOperatorCmbxActionPerformed
        if(shiftOperatorCmbx.getSelectedItem().toString().contains("All Shifts")){
        shiftDetailsReportTable.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "SELECT"
                + " date_collected, (select user_name from ac_shifts where shift_no::varchar = sf.shift_no), "
                + "shift_no::int,initcap(user_name) as cashier, (select slip_no from ac_cash_book where"
                + " ac_cash_book.shift_no = sf.shift_no limit 1) as bank_slip, SUM(shift_amount) as debit, "
                + "SUM(amount) as credit,sum(shift_amount-amount) as SHORT_OR_EXCESS, (select sum(credit) "
                + "from ac_cash_collection where shift_no = sf.shift_no and transaction_type ilike 'banking')"
                + " as banked_amount, ((select sum(credit) from ac_cash_collection where shift_no = sf.shift_no"
                + " and transaction_type ilike 'banking') - sum(amount)) as OVER_OR_UNDER_BANKING from "
                + "ac_shift_collections sf WHERE date_collected BETWEEN '" + beginDatePicker1.getDate() +
                "' AND '" + endDatePicker1.getDate() + "' GROUP BY 1,2,3,4, sf.shift_no ORDER BY 3 ASC"));

        totalDebitLbl1.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable, 6)));
        totalCreditLbl1.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable, 8)));
        cashbookBalanceLbl1.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable, 8)
                - com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable, 6)));            
        } else {
        shiftDetailsReportTable.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "SELECT"
                + " date_collected, (select user_name from ac_shifts where shift_no::varchar = sf.shift_no), "
                + "shift_no::int,initcap(user_name) as cashier, (select slip_no from ac_cash_book where"
                + " ac_cash_book.shift_no = sf.shift_no limit 1) as bank_slip, SUM(shift_amount) as debit, "
                + "SUM(amount) as credit,sum(shift_amount-amount) as SHORT_OR_EXCESS, (select sum(credit) "
                + "from ac_cash_collection where shift_no = sf.shift_no and transaction_type ilike 'banking')"
                + " as banked_amount, ((select sum(credit) from ac_cash_collection where shift_no = sf.shift_no"
                + " and transaction_type ilike 'banking') - sum(amount)) as OVER_OR_UNDER_BANKING from "
                + "ac_shift_collections sf WHERE date_collected BETWEEN '" + beginDatePicker1.getDate() +
                "' AND '" + endDatePicker1.getDate() + "' AND user_name = '"+shiftOperatorCmbx.getSelectedItem()+"' GROUP BY 1,2,3,4, sf.shift_no ORDER BY 3 ASC"));
        
        totalDebitLbl1.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable, 6)));
        totalCreditLbl1.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable, 8)));
        cashbookBalanceLbl1.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable, 8)
                - com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable, 6)));
    }
        // TODO add your handling code here:
    }//GEN-LAST:event_shiftOperatorCmbxActionPerformed

    private void refreshBtn1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshBtn1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_refreshBtn1ActionPerformed

    private void clearFormBtn1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clearFormBtn1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_clearFormBtn1ActionPerformed

    private void closeBtn1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_closeBtn1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_closeBtn1ActionPerformed

    private void shiftOperatorCmbx1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_shiftOperatorCmbx1ActionPerformed
        shiftDetailsReportTable1.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB,
                "SELECT DISTINCT date, patient_no, dealer as payer_name, receipt_no, debit, credit, debit-credit user_name from ac_cash_collection where shift_no = '" + shiftOperatorCmbx1.getSelectedItem() + "' ORDER BY 4"));
        totalDebitLbl2.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable1, 4)));
        totalCreditLbl2.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable1, 5)));
        cashbookBalanceLbl2.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable1, 4)
                - com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable, 5)));        // TODO add your handling code here:
    }//GEN-LAST:event_shiftOperatorCmbx1ActionPerformed

    private void refreshBtn2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshBtn2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_refreshBtn2ActionPerformed

    private void clearFormBtn2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clearFormBtn2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_clearFormBtn2ActionPerformed

    private void closeBtn2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_closeBtn2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_closeBtn2ActionPerformed

    private void shiftDetailsReportTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_shiftDetailsReportTableMouseClicked

        shiftDetailsReportTable1.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB,
                "SELECT DISTINCT date, patient_no, dealer as payer_name, receipt_no, debit, credit, debit-credit user_name from ac_cash_collection where shift_no = '" + shiftDetailsReportTable.getValueAt(shiftDetailsReportTable.getSelectedRow(), 2) + "' ORDER BY 4"));
        totalDebitLbl2.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable1, 4)));
        totalCreditLbl2.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable1, 5)));
        cashbookBalanceLbl2.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable1, 4)
                - com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(shiftDetailsReportTable, 5)));
        this.cashbookReportsTabbedPane.setSelectedIndex(2);
        // TODO add your handling code here:
    }//GEN-LAST:event_shiftDetailsReportTableMouseClicked

    private void refreshBtn3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshBtn3ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_refreshBtn3ActionPerformed

    private void clearFormBtn3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clearFormBtn3ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_clearFormBtn3ActionPerformed

    private void closeBtn3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_closeBtn3ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_closeBtn3ActionPerformed

    private void shiftDetailsReportTable1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_shiftDetailsReportTable1MouseClicked


        receiptDetailsReportTable.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB,
                "SELECT DISTINCT date, activity_code, (SELECT activity FROM pb_activity WHERE pb_activity.code = ac_cash_collection.activity_code), description, patient_no, dealer as payer, payment_mode, cheque_no, debit, credit, debit-credit as balance, user_name from ac_cash_collection where receipt_no = '" + shiftDetailsReportTable1.getValueAt(shiftDetailsReportTable1.getSelectedRow(), 3) + "'"));
        totalDebitLbl3.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(receiptDetailsReportTable, 8)));
        totalCreditLbl3.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(receiptDetailsReportTable, 9)));
        cashbookBalanceLbl3.setText(com.afrisoftech.lib.CurrencyFormatter.getFormattedDouble(com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(receiptDetailsReportTable, 8)
                - com.afrisoftech.lib.TableColumnTotal.getTableColumnTotal(receiptDetailsReportTable, 9)));
        this.cashbookReportsTabbedPane.setSelectedIndex(3);
        // TODO add your handling code here:
    }//GEN-LAST:event_shiftDetailsReportTable1MouseClicked
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel beginDateLbl;
    private javax.swing.JLabel beginDateLbl1;
    private javax.swing.JLabel beginDateLbl2;
    private com.afrisoftech.lib.DatePicker beginDatePicker;
    private com.afrisoftech.lib.DatePicker beginDatePicker1;
    private com.afrisoftech.lib.DatePicker beginDatePicker2;
    private javax.swing.JPanel cashBookAnalysisActionPanel;
    private javax.swing.JPanel cashBookPanel;
    private javax.swing.JPanel cashBookReportPanel;
    private javax.swing.JPanel cashBookSearchPanel;
    private javax.swing.JLabel cashbookBalanceLbl;
    private javax.swing.JLabel cashbookBalanceLbl1;
    private javax.swing.JLabel cashbookBalanceLbl2;
    private javax.swing.JLabel cashbookBalanceLbl3;
    private javax.swing.JComboBox cashbookCmbx;
    private javax.swing.JScrollPane cashbookReportJscrl;
    private javax.swing.JTable cashbookReportTbl;
    private javax.swing.JTabbedPane cashbookReportsTabbedPane;
    private javax.swing.JButton clearFormBtn;
    private javax.swing.JButton clearFormBtn1;
    private javax.swing.JButton clearFormBtn2;
    private javax.swing.JButton clearFormBtn3;
    private javax.swing.JButton closeBtn;
    private javax.swing.JButton closeBtn1;
    private javax.swing.JButton closeBtn2;
    private javax.swing.JButton closeBtn3;
    private javax.swing.JLabel endDateLbl;
    private javax.swing.JLabel endDateLbl1;
    private javax.swing.JLabel endDateLbl2;
    private com.afrisoftech.lib.DatePicker endDatePicker;
    private com.afrisoftech.lib.DatePicker endDatePicker1;
    private com.afrisoftech.lib.DatePicker endDatePicker2;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JTable receiptDetailsReportTable;
    private javax.swing.JPanel receiptReportPanel2;
    private javax.swing.JPanel receiptReportsAnalysisActionPanel;
    private javax.swing.JScrollPane receiptReportsReportJscrl;
    private javax.swing.JButton refreshBtn;
    private javax.swing.JButton refreshBtn1;
    private javax.swing.JButton refreshBtn2;
    private javax.swing.JButton refreshBtn3;
    private javax.swing.JLabel selectCashBookLbl;
    private javax.swing.JLabel selectCashBookLbl1;
    private javax.swing.JLabel selectCashBookLbl2;
    private javax.swing.JTable shiftDetailsReportTable;
    private javax.swing.JTable shiftDetailsReportTable1;
    private javax.swing.JComboBox shiftOperatorCmbx;
    private javax.swing.JComboBox shiftOperatorCmbx1;
    private javax.swing.JPanel shiftReportPanel;
    private javax.swing.JPanel shiftReportPanel1;
    private javax.swing.JPanel shiftReportsAnalysisActionPanel;
    private javax.swing.JPanel shiftReportsAnalysisActionPanel1;
    private javax.swing.JPanel shiftReportsPanel;
    private javax.swing.JScrollPane shiftReportsReportJscrl;
    private javax.swing.JScrollPane shiftReportsReportJscrl1;
    private javax.swing.JPanel shiftReportsSearchPanel;
    private javax.swing.JPanel shiftReportsSearchPanel1;
    private javax.swing.JLabel totalCreditLbl;
    private javax.swing.JLabel totalCreditLbl1;
    private javax.swing.JLabel totalCreditLbl2;
    private javax.swing.JLabel totalCreditLbl3;
    private javax.swing.JLabel totalDebitLbl;
    private javax.swing.JLabel totalDebitLbl1;
    private javax.swing.JLabel totalDebitLbl2;
    private javax.swing.JLabel totalDebitLbl3;
    // End of variables declaration//GEN-END:variables
}
