/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package com.afrisoftech.hospinventory;

import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;

/**
 *
 * @author saleem
 */
public class TenderSetup extends javax.swing.JInternalFrame {

    /**
     * Creates new form TenderSetup
     */
     java.sql.Connection connectDB = null;
    com.afrisoftech.lib.DBObject dbObject;
    org.netbeans.lib.sql.pool.PooledConnectionSource pConnDB = null;
    
    public TenderSetup(java.sql.Connection connDb, org.netbeans.lib.sql.pool.PooledConnectionSource pconnDB) {
        
         connectDB = connDb;

         pConnDB = pconnDB;
        
        initComponents();
        for(int i=0;i<itemTbl.getRowCount();i++){
            itemTbl.setValueAt(false, i, 1);
        }
        
        
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        jSearchDialog1 = new javax.swing.JDialog();
        jSearchPanel1 = new javax.swing.JPanel();
        jTextField1111 = new javax.swing.JTextField();
        jSearchScrollPane1 = new javax.swing.JScrollPane();
        jSearchTable1 = new com.afrisoftech.dbadmin.JTable();
        jButton91 = new javax.swing.JButton();
        searchtenderc = new javax.swing.JDialog();
        tenderrecordspnl4 = new javax.swing.JPanel();
        tenderrecordstxt4 = new javax.swing.JTextField();
        tenderrecordsspnl4 = new javax.swing.JScrollPane();
        tenderrecordstbl4 = new com.afrisoftech.dbadmin.JTable();
        closebtn10 = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        contractTbl = new com.afrisoftech.dbadmin.JTable();
        jPanel1 = new javax.swing.JPanel();
        jPanel59 = new javax.swing.JPanel();
        tenderTxt = new javax.swing.JTextField();
        jButton22 = new javax.swing.JButton();
        jLabel3 = new javax.swing.JLabel();
        jCheckBox1 = new javax.swing.JCheckBox();
        jScrollPane2 = new javax.swing.JScrollPane();
        itemTbl = new com.afrisoftech.dbadmin.JTable();

        jSearchDialog1.setModal(true);
        jSearchDialog1.setUndecorated(true);
        jSearchDialog1.getContentPane().setLayout(new java.awt.GridBagLayout());

        jSearchPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jSearchPanel1.setLayout(new java.awt.GridBagLayout());

        jTextField1111.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                jTextField1111CaretUpdate(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 10.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 100);
        jSearchPanel1.add(jTextField1111, gridBagConstraints);

        jSearchTable1.setShowHorizontalLines(false);
        /*    try {
            searchRowSet.setCommand("select product,selling_price,gl_code FROM st_stock_prices WHERE department = 'Pharmacy' order by product");
            searchRowSet.setConnectionSource(pConnDB);

            searchRowSet.execute();

            // crset2.setExecuteOnLoad(true);
            jSearchTable.setModel(new org.netbeans.lib.sql.models.TableModel(searchRowSet, new org.netbeans.lib.sql.models.TableModel.Column[] {
                new org.netbeans.lib.sql.models.TableModel.Column("product", "Description", false),
                new org.netbeans.lib.sql.models.TableModel.Column("selling_price", "Amount", false),
                new org.netbeans.lib.sql.models.TableModel.Column("gl_code", "Gl_code", false)

            }));
            // jSearchScrollPane.setViewportView(jSearchTable);

        } catch(java.sql.SQLException sqlex){
            javax.swing.JOptionPane.showMessageDialog(this,sqlex.getMessage(),"Error Message!",javax.swing.JOptionPane.ERROR_MESSAGE);

            System.out.println(sqlex.getMessage());
        }
        */
        jSearchTable1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jSearchTable1MouseClicked(evt);
            }
        });
        jSearchScrollPane1.setViewportView(jSearchTable1);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 20.0;
        jSearchPanel1.add(jSearchScrollPane1, gridBagConstraints);

        jButton91.setText("Dispose");
        jButton91.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton91ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jSearchPanel1.add(jButton91, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        jSearchDialog1.getContentPane().add(jSearchPanel1, gridBagConstraints);

        searchtenderc.setModal(true);
        searchtenderc.setUndecorated(true);
        searchtenderc.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                searchtendercFocusLost(evt);
            }
        });
        searchtenderc.getContentPane().setLayout(new java.awt.GridBagLayout());

        tenderrecordspnl4.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        tenderrecordspnl4.setLayout(new java.awt.GridBagLayout());

        tenderrecordstxt4.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                tenderrecordstxt4CaretUpdate(evt);
            }
        });
        tenderrecordstxt4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tenderrecordstxt4ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 300.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 5);
        tenderrecordspnl4.add(tenderrecordstxt4, gridBagConstraints);

        tenderrecordstbl4.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {

            }
        ));
        tenderrecordstbl4.setToolTipText("Click on the target row to select the patient from the search.");
        tenderrecordstbl4.setShowHorizontalLines(false);
        /*javax.swing.table.TableColumn column = null;

        for (int i = 0; i < 4; i++) {

            column = jSearchTable.getColumnModel().getColumn(i);

            if (i == 1) {

                column.setPreferredWidth(400);
                //sport column is bigger
            } else {

                column.setPreferredWidth(200);

            }
        }
        */
        tenderrecordstbl4.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tenderrecordstbl4MouseClicked(evt);
            }
        });
        tenderrecordsspnl4.setViewportView(tenderrecordstbl4);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 20.0;
        tenderrecordspnl4.add(tenderrecordsspnl4, gridBagConstraints);

        closebtn10.setText("Close");
        closebtn10.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                closebtn10ActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        tenderrecordspnl4.add(closebtn10, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        searchtenderc.getContentPane().add(tenderrecordspnl4, gridBagConstraints);

        setClosable(true);
        setIconifiable(true);
        setMaximizable(true);
        setResizable(true);
        setMinimumSize(new java.awt.Dimension(800, 300));
        setPreferredSize(new java.awt.Dimension(1000, 500));
        getContentPane().setLayout(new java.awt.GridBagLayout());

        contractTbl.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "SELECT tender_no ref_no,supplier,cr_performance CREDIT_AMOUNT,dr_performance DEBIT_AMOUNT,description_of_entry TRANSACTION_ ,entered_on::date,lower(entered_by) USER_ from st_contract_mgt\n" +
            "UNION select order_no tender_no,supplier,credit,debit,transaction_type,date,received_by FROM st_stock_cardex where supplier !='' and date> '2014-06-01'\n" +
            "UNION SELECT order_no tender_no,supplier,net_value,0.0,'LPO '||order_no,date::date,ordered_by FROM st_orders where order_no is not null"));
    contractTbl.addMouseListener(new java.awt.event.MouseAdapter() {
        public void mouseClicked(java.awt.event.MouseEvent evt) {
            contractTblMouseClicked(evt);
        }
    });
    jScrollPane1.setViewportView(contractTbl);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridy = 2;
    gridBagConstraints.gridwidth = 4;
    gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.weighty = 5.0;
    getContentPane().add(jScrollPane1, gridBagConstraints);

    jPanel1.setLayout(new java.awt.GridBagLayout());

    jPanel59.setLayout(new java.awt.GridBagLayout());

    tenderTxt.setEditable(false);
    tenderTxt.setFont(new java.awt.Font("Dialog", 1, 14)); // NOI18N
    tenderTxt.setForeground(new java.awt.Color(102, 102, 102));
    tenderTxt.addActionListener(new java.awt.event.ActionListener() {
        public void actionPerformed(java.awt.event.ActionEvent evt) {
            tenderTxtActionPerformed(evt);
        }
    });
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
    gridBagConstraints.weightx = 1.0;
    jPanel59.add(tenderTxt, gridBagConstraints);

    jButton22.addActionListener(new java.awt.event.ActionListener() {
        public void actionPerformed(java.awt.event.ActionEvent evt) {
            jButton22ActionPerformed(evt);
        }
    });
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
    gridBagConstraints.weighty = 1.0;
    jPanel59.add(jButton22, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.weighty = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 10);
    jPanel1.add(jPanel59, gridBagConstraints);

    jLabel3.setText("Select Contract No.");
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.weightx = 1.0;
    jPanel1.add(jLabel3, gridBagConstraints);

    jCheckBox1.setText(" View All  Contract Transactions");
    jCheckBox1.addActionListener(new java.awt.event.ActionListener() {
        public void actionPerformed(java.awt.event.ActionEvent evt) {
            jCheckBox1ActionPerformed(evt);
        }
    });
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 1;
    jPanel1.add(jCheckBox1, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.gridwidth = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.weighty = 1.0;
    getContentPane().add(jPanel1, gridBagConstraints);

    jScrollPane2.setBorder(javax.swing.BorderFactory.createTitledBorder("Contractors(Suppliers)"));

    itemTbl.setFont(new java.awt.Font("Dialog", 1, 12)); // NOI18N
    itemTbl.setForeground(new java.awt.Color(204, 0, 0));
    itemTbl.setModel(new javax.swing.table.DefaultTableModel(
        new Object [][] {
            {null, null},
            {null, null},
            {null, null},
            {null, null}
        },
        new String [] {
            "Bidder_name", "Tick"
        }
    ) {
        Class[] types = new Class [] {
            java.lang.Object.class, java.lang.Boolean.class
        };

        public Class getColumnClass(int columnIndex) {
            return types [columnIndex];
        }
    });
    itemTbl.addMouseListener(new java.awt.event.MouseAdapter() {
        public void mouseClicked(java.awt.event.MouseEvent evt) {
            itemTblMouseClicked(evt);
        }
    });
    jScrollPane2.setViewportView(itemTbl);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 3;
    gridBagConstraints.gridy = 0;
    gridBagConstraints.gridheight = 2;
    gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.weighty = 1.0;
    getContentPane().add(jScrollPane2, gridBagConstraints);

    pack();
    }// </editor-fold>//GEN-END:initComponents

    private void contractTblMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_contractTblMouseClicked
//        // TODO add your handling code here:
//         if (jTable1.getSelectedColumn() == 0) {
//
//            this.cmbox11MouseClicked();
//        }           // Add 
    }//GEN-LAST:event_contractTblMouseClicked

    private void jTextField1111CaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_jTextField1111CaretUpdate
        jSearchTable1.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "SELECT DISTINCT description,units,buying_price,item_code FROM st_stock_item WHERE description ILIKE '%" + jTextField1111.getText() + "%' ORDER BY description"));
        jSearchScrollPane1.setViewportView(jSearchTable1);

        /*   if(this.jComboBox2.getSelectedItem().toString().equalsIgnoreCase("main store")){
            if(this.jTextField1111.getCaretPosition() < 2){
                System.out.print("Nothing");
            }else{

                jSearchTable1.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB,"select distinct product,units,selling_price FROM st_stock_prices WHERE product ILIKE '%"+jTextField1111.getText()+"%' and department ilike '"+this.jComboBox1.getSelectedItem().toString()+"%' ORDER BY product"));
                jSearchScrollPane1.setViewportView(jSearchTable1);
                System.out.println("Cannot sort out");

            }
        }else{
            if(this.jTextField1111.getCaretPosition() < 2){
                System.out.print("Nothing");
            }else{
                jSearchTable1.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB,"select distinct description,units,buying_price FROM st_stock_item WHERE description ILIKE '%"+jTextField1111.getText()+"%' and department ilike '"+this.jComboBox2.getSelectedItem().toString()+"%' ORDER BY description"));
                jSearchScrollPane1.setViewportView(jSearchTable1);
                System.out.println("Cannot sort out");

            }
        }*/
        // Add your handling code here:
    }//GEN-LAST:event_jTextField1111CaretUpdate

    private void jSearchTable1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jSearchTable1MouseClicked
        double bal = 0.00;

        contractTbl.setValueAt(jSearchTable1.getValueAt(jSearchTable1.getSelectedRow(), 0), contractTbl.getSelectedRow(), 0);
        contractTbl.setValueAt(jSearchTable1.getValueAt(jSearchTable1.getSelectedRow(), 1), contractTbl.getSelectedRow(), 1);
        contractTbl.setValueAt(jSearchTable1.getValueAt(jSearchTable1.getSelectedRow(), 2), contractTbl.getSelectedRow(), 3);
        contractTbl.setValueAt(jSearchTable1.getValueAt(jSearchTable1.getSelectedRow(), 3), contractTbl.getSelectedRow(), 5);
        try {
            java.sql.Statement pstmt = connectDB.createStatement();
            java.sql.ResultSet rs = pstmt.executeQuery("select sum(QTY) from stock_balance_qty '");
            while (rs.next()) {

                bal = rs.getDouble(1);
                contractTbl.setValueAt(java.lang.String.valueOf(bal), contractTbl.getSelectedRow(), 4);
                //jComboBox1.setSelectedItem(rs.getString(1));
            }
        } catch (java.sql.SQLException sqlex) {
            System.out.println(sqlex.getMessage());

        }

        jSearchDialog1.dispose();
        // Add your handling code here:
    }//GEN-LAST:event_jSearchTable1MouseClicked

    private void jButton91ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton91ActionPerformed
        this.jSearchDialog1.dispose();        // Add your handling code here:
    }//GEN-LAST:event_jButton91ActionPerformed

    private void tenderTxtActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tenderTxtActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tenderTxtActionPerformed

    private void jButton22ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton22ActionPerformed
        // TODO add your handling code here:
        java.awt.Point p = tenderTxt.getLocationOnScreen();
        searchtenderc.setSize(400, 200);
        searchtenderc.setLocation(p);
        searchtenderc.setVisible(true);
    }//GEN-LAST:event_jButton22ActionPerformed

    private void itemTblMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_itemTblMouseClicked
        // TODO add your handling code here:
         com.afrisoftech.dbadmin.TableModel.TableGroupedBooleanColumn(itemTbl,1);
     if(itemTbl.getValueAt(itemTbl.getSelectedRow(), 0)!=null && itemTbl.getValueAt(itemTbl.getSelectedRow(), 1)==java.lang.Boolean.TRUE ){
       //contractTbl.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "select cr_performance CREDIT_AMOUNT,dr_performance TRANSACTION_VALUE,description_of_entry TRANSACTION_ ,entered_on::date,lower(entered_by) from st_contract_mgt WHERE tender_no='"+tenderTxt.getText()+"' AND supplier ILIKE '"+itemTbl.getValueAt(itemTbl.getSelectedRow(), 0)+"'"));
       contractTbl.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "SELECT cr_performance CREDIT_AMOUNT,dr_performance DEBIT_VALUE,description_of_entry TRANSACTION_ ,entered_on::date,lower(entered_by) from st_contract_mgt WHERE tender_no='"+tenderTxt.getText()+"' AND supplier ILIKE '"+itemTbl.getValueAt(itemTbl.getSelectedRow(), 0)+"'"));
     }
     else
         JOptionPane.showMessageDialog(this, "No Supplier Selected", "Error",JOptionPane.ERROR_MESSAGE);
    }//GEN-LAST:event_itemTblMouseClicked

    private void tenderrecordstxt4CaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_tenderrecordstxt4CaretUpdate
        // TODO add your handling code here:
        if(tenderrecordstxt4.getCaretPosition()==0){

        }
        else{
            tenderrecordstbl4.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "SELECT DISTINCT quotation_no FROM st_orders WHERE quotation_no ILIKE '" + tenderrecordstxt4.getText().toString() + "%' "
                + "and ordered=false and order_no IS NULL  ORDER BY 1"));
        tenderrecordstbl4.setShowHorizontalLines(true);
        tenderrecordsspnl4.setViewportView(tenderrecordstbl4);

        }
    }//GEN-LAST:event_tenderrecordstxt4CaretUpdate

    private void tenderrecordstxt4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tenderrecordstxt4ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tenderrecordstxt4ActionPerformed

    private void tenderrecordstbl4MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tenderrecordstbl4MouseClicked
        // TODO add your handling code here:
//        jLabel55.setText(null);
        tenderTxt.setText(tenderrecordstbl4.getModel().getValueAt(tenderrecordstbl4.getSelectedRow(), 0).toString());
        itemTbl.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "select distinct supplier CONTRACTOR, false Tick from st_orders where quotation_no = '"+tenderTxt.getText().toString()+"'  AND ordered = false and supplier IN (select distinct supplier from st_contract_mgt) group by 1  "));
        this.searchtenderc.dispose();
    }//GEN-LAST:event_tenderrecordstbl4MouseClicked

    private void closebtn10ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_closebtn10ActionPerformed
        // TODO add your handling code here:
        this.searchtenderc.dispose();
    }//GEN-LAST:event_closebtn10ActionPerformed

    private void searchtendercFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_searchtendercFocusLost
        // TODO add your handling code here:
        this.searchtenderc.dispose();
    }//GEN-LAST:event_searchtendercFocusLost

    private void jCheckBox1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jCheckBox1ActionPerformed
        // TODO add your handling code here:
        //jTable1.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "select tender_no,supplier,cr_performance CREDIT_AMOUNT,dr_performance TRANSACTION_VALUE,description_of_entry TRANSACTION_ ,entered_on::date,lower(entered_by) from st_contract_mgt"));
         contractTbl.setModel(com.afrisoftech.dbadmin.TableModel.createTableVectors(connectDB, "SELECT tender_no ref_no,supplier,cr_performance CREDIT_AMOUNT,dr_performance TRANSACTION_VALUE,description_of_entry TRANSACTION_ ,entered_on::date,lower(entered_by) USER_ from st_contract_mgt\n" +
"UNION select order_no tender_no,supplier,credit,debit,transaction_type,date,received_by FROM st_stock_cardex where supplier !='' and date> '2014-06-01'\n" +
"UNION SELECT order_no tender_no,supplier,net_value,0.0,'LPO '||order_no,date::date,ordered_by FROM st_orders where order_no is not null "));
         
       
         
         
         
         
         
         
    }//GEN-LAST:event_jCheckBox1ActionPerformed

    private void cmbox11MouseClicked() {
        System.out.println("Showing dialog");
        java.awt.Point point = jScrollPane1.getLocationOnScreen();
        jSearchDialog1.setSize(600, 200);
        jSearchDialog1.setLocation(point);
        jSearchDialog1.setVisible(true);
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton closebtn10;
    private javax.swing.JTable contractTbl;
    private javax.swing.JTable itemTbl;
    private javax.swing.JButton jButton22;
    private javax.swing.JButton jButton91;
    private javax.swing.JCheckBox jCheckBox1;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel59;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JDialog jSearchDialog1;
    private javax.swing.JPanel jSearchPanel1;
    private javax.swing.JScrollPane jSearchScrollPane1;
    private javax.swing.JTable jSearchTable1;
    private javax.swing.JTextField jTextField1111;
    private javax.swing.JDialog searchtenderc;
    private javax.swing.JTextField tenderTxt;
    private javax.swing.JPanel tenderrecordspnl4;
    private javax.swing.JScrollPane tenderrecordsspnl4;
    private javax.swing.JTable tenderrecordstbl4;
    private javax.swing.JTextField tenderrecordstxt4;
    // End of variables declaration//GEN-END:variables
}

